<!DOCTYPE HTML>

<html>
    <head>
      
     <br>
      
      <div class="js-toggle-wrapper">
  <div class="js-toggle">
    <div class="js-toggle-track">
      <div class="js-toggle-track-check">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAABlJJREFUWAm1V3tsFEUcntnXvXu0tBWo1ZZHihBjCEWqkHiNaMLDRKOtQSKaiCFKQtS/SbxiFCHGCIkmkBSMwZhQNTFoQZD0DFiwtCDFAkdDqBBBKFj63rvdnfH7zfVo5aFBj0l2Z/dm5vd98/0es8dYjlpr62azufnDQNZcU1PciMfjWvb9rvZSMk4Ayfb36pLH13189GC8LAtIRLLPt+pzwrCuLq4ISEv/gHmitrAwfPbEkXc/ad4dL6iujrvyX0jcitgd/yZlZqftP6995Mr5TVLa22Tn8XVX2g/XLSRjUu7Q79jonS7I7hS7/0oOb5VyqF52n98oj7esXX07EjlxwXWisRmSnm3b29TTM8iYrjmFBWExubxwY/uhNas4r/WySl1fc5cetDMd7ydl+lMJJRw5WC8ud62Xx5rfepzwxgZmbhUYNS5Stvsj4yo2GXJEFBVHWDBkfdbR9HpYBaaUajDnBLKKpl1xRKYcgGtMCqEzTaSnThk/SQT0uJqTqFNBmXMCsZE48DzRZRMBRjv1GHNdk3HBImF9ZUvTyxM40pMKVc4JZBXQOLOFoDeKSxdp6HIQcO4rjYT9fn0pjbz9GLt7BAAODmjSVReXUMFzNW5x5vfxp2mIxZjIuQKJxAmFa+is2DQJJQ0JyBVExNOYcJnPxx/6/utnijmP555ALEagKAGGnGn64QORBjARcIA/yJk7JMJBLRrNtybTvH88KGjCf2jK86bhzmMcwDKFZEQvbIhxFYhChoMWMzU2iWznlIBEVJOsP+1bdX/ALx9l7jApADeDAEcMkE90JnUmmGl4USKQ0xhoW3JB5XY0YrxYWhLwMZZypUyjDGH35AbNwgUGiFBPpuGbHCpAOV1ZGXf2f/taftAv31DyeymN2d1IhAFAwTOmnzF/kKcdh3me7CYCOVNgycju84u8DeVlwfFq9/ZlTfldYrMUjOlrkjkD+rU+WzCROkcEchIDHR011syZW9JHD7y07N6JvhWMpz3pugaTkB6lWFVCKkhck0zzeMp2utq+uHrmfxOgoCO/Z8CXPlEQ1bdH8wgvhSIkEG0ICcQeExIFGdimjvKka7btJFZuaXOammIGKUCFQ53j9EN1dYKWqHf0t2w407W2tgs6h89ZnImjB55flh81tt9XirjjDuSl+oIPRQ0iWPgNZ5GqTqbBe3vSzEl5n5PhWKwocyR2HlqYN61qV18WjYjE8JLARZPQsUSim8foIRYTlGr02Ly7piASFRtKJ4VfieYhxdS2JcDVMN6xVOKZyrCGm8b108lrLRVzvptLH7IoEFLFANes6KnDi+uxfmvFnF17oALq5u1agu3/YfHkcSFzeSggV5eXRfIB7CHNcO5SUI+Ih5Ir7f4MAV9IqdFzdZgNpZw1Gcs1mNvgGbTbqQ9/cz7ZuuhgyYRQ49ljTyWHhr2DwpNHHFf+5gnWZ3Bharo+0TD5dNMw5vv9RlVpSRDHK4TlnoukhtYApuOHejSZQuo5g/A9BysdKRCyLl6062fN37OXMDlvUJtUrtmxo0avrW3wTrYs3jJ9RvRVChrmSmanPMpX2OXMsmDGh6AiEIwBAlvkOqIdBy+8JyAz8pz7QxiDth4KDy5uAlwzrWTnwC8Vc4KVAMZ3YUZ+IqoIjP3h5KFFX1ZMy3uW+7RhEDHgTi0zC9rS7uhPCDiNrGFyqBeERtKN/B0YlyFCkw0NJ5C0Ojv7zvT1a1WV1TuvZDdL4NTgB7CASYpsen6gqvG5jmTf5qHedADgkBl3D0nkSgNhZACDyi0FUKZRr3IdRjgN4WPPoFMIIegIK3mqd38fS80mcJKelM4szNyzZtQbkchGePuBRS8Eg9pHU8ojRQpSqs+ajAIwTjjUMQ/nvTNM0kicwYxZIYMh/891DYi+fvedB+c1xsm4lDU6ya+Axtz+RiAzEVYbajQOpq17F0R9QevNcEhfcU+xvyQQUalGJBSesqOkgPQ4YNyUZL9fSvUPDjoNAwN8/dwFjaczNkc3ptaMud1EIDtGcmXTcefO2cGSvKIFfp/2JIJxlq7xEl3nVPM4fDeIbPkD16/ptNc0bDu7qxbsu0R2JGywWMIjF2ft3tjfloAyQAGXiOn8hrqwbVvMXzaO+QeHXP6nF0wvX74Hf4NGG5GPjSlYoyM3P/0FbCT6zvM/yYoAAAAASUVORK5CYII=" role="presentation" style="pointer-events: none;" width="16" height="16">
          </div>
          <div class="js-toggle-track-x">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAABwNJREFUWAmtV1tsFFUY/s6Z2d22zLYlZakUCRVaQcqlWIiCiS1gTEB9UAO+GR9En3iQGI0xJiSiRB98MjEq8cEQTSBeHhQM0V7whtEGDWC90BYitxahtNtu25058/v/ZzvLbilawJNM5+yZ89+//1LgJhYRNLW1uDfBAvpGiIk2O5auvfFxqIH3ZJ8/u06GN6Z9+wVl5SjcD1IbZa/UPkPyYl2uR4dreoD2bnbYxTlBBRytkHXtAREphP5KuH4lddx9h70yxX05t7yYXwGb6W8nx1jibpl2rFlGBxcG9M18okOrn7Bnk/BAO/4bI0UeEE1zjBp3UmvjOxJXJdaKN/ZiIu4tOZrAb4aTdZAZArKmWeiiJZ6jt5tiagdCS9+6cgO1Ne6Mvhe+ixTIfyDVhipnK9p+P0Edqx9RW/YZtQVGmOLChRxNNlyPsTEgPQKMB3dbEHa0h1awYmQ83enTd2vmUtvKd1Glv2RkzBb+kZGRrKtjzG60Wguhd/lJZBingbcfWWe72vjT75bJDrhYtvA0hrurETDr5HyF2Knb1MM4ab//xIoOqueA0edRnkkinTyJdYvqLFDZO4zUPFCvVoDjJq4T7TE61IWh4x5KqxX5KVKkX8WZ/t2ov2cb3MHt4dhIyOxIJxJOOF6xRx/99BksXLoecWcXytILMNBDqKpnGZWPquYfPxY8iXGR9fK+SgFrgcRPXPjVqhehL+3EmZ5RGJQi1QBU8TPThQnOQzm+5UXGIcetUeEAfP13VwzpI+w1jGJWdSliNfvVhiMPiOsllJag4M/UGHiqM6dlBb2OTLKHHV6KkvogrJ4XhBWniWK/Gp1MQyf93FOeUXKmKk/FzJxbQtKLjFXYT4USupy8fQVir2ynVEBiZMG0qtOHMS/AW4Gwrk7BG3C1F0B5nqNKE0CME4MfVRLPnXkBKe+ipvoFhNQywOhdghvLi0F8ReyVXV4BKTBRbbe5f64zR/DHsdZw1hJfeWlHl/GNRJzDxrd5m192z78TMaVnKELZoINZS4BzQ7vtnZljSnha/pPCbkuxzXcupYwI5tIeCpGc0Yp9tWHZQy/rmYhRfNgg4bHJBYLzGkxsRJF4XKlE2jBOHNSv3kY7Tj6vthzPFl61BrYwqFlmEQhtSVXmLiksxLmtRgYXI1ULU61JJ4eVKmG3/5sCVgpbMT6OMJ2E08/29Xf3w6v4FnHdCjfWgXu/O8Z5mLdCkeRs2khHe1DqOtQwbHWTAnM5S2HNmhALYo5KjkPFrMMKjZl6HxhWIAb0BqE+/73GrBRQUsKYiBu4JX8ycI6wtw+i5ef3NZpsrKVSHYCP37jwGDgeE1SA0S/xtl5SU2fs1ApEp0qTLVRjgyycDSsLHMSwmFltZMStR3uLLg6BdLhDa5dC6ryU2pHBe1BVO9tUcwfitJt2CLJZUHoG6T7Op75u0IyK31TCPcwFqgPk/KCaD3dFOuZBCO7xvCT/j048b3I3c7F2+WuOW7qdgkucFYlcQ4qop3yzTX7WaKfOCccye3Ts1Etq0+a/BHCF1yPgF3tAUkR6OrtGmo6gl94qqcXKh3rDyrOkPa58URoWcov2Mo6M+0QjrqKB+b7++oMa9Sz+ZkM0mie6aAtnGUvhmxaI+TogPOSQedgWioGSHFLn3v4kLh4HRspNmOGv41k+55siLFp2z6xYeJjhljFcbmxJlr4ga06TbevSByz/glQq4BJx46/c+237PbBqEYKxX3HpmKZEnQnr65X20hqJYaNcLoFOLiJk2LuBbyg7Q0OEn+hm0P3honxFD6rdxYorKpeIoi4YSSvyQHQIbM5t4+YNxLj/OxhVOOE4585qGpjnq+wSx6Q9CtNxTjd5klB+g6Mv36r0+b9cZFi44WYkHdG2ZWb3TtOUOXyVAlKlpGvJIAJ3eBMyfYS5C0qRZGtC85j+4sOasDe9xznPYezhhO/2Q6eP2fSOvYHOjtuQ1a9Q1VKynVDaMc8E0tptdxUsTFpFIYjcZKcbnoaQTNdiqCwNlL4G7oziSqGnT1ALf34vhk4R5zU3qYV9ONp9K88RtouShE68JwaU8dFw5W617shWa9ykeaBIn2hcsvPgL00k45QdTCZuSVcTRNs+8fnyLvooQfR5iujAnR9bxfY2xOVOxFS8SK3Le0l48VyYu1M8HRe5JD8wKPTjYnifaK3Wfn/GChYQ8ZAi6WRzWgqLV5YrsVLnZaVSoXU1g9gOIDwFySiGi+Zdrnzr7J3r+SMuszlcQCRn8lNGcTuSy2jOI7o9mxjZo+vR3ej3tN+ifRSOyUTS0+VMOid93cCubeiy/6TImS0QxRSCq2vxKr45zV+FQnjWH6D2xg+E9EatLcLAdHTgtGGD80D6jM0+aOl4wJgO/f96R2aJKCQ3yvgftRhdFMOpd6oAAAAASUVORK5CYII=" role="presentation" style="pointer-events: none;" width="16" height="16">
              </div>
              </div>
              <div class="js-toggle-thumb"></div>
                <input class="js-toggle-screenreader-only" type="checkbox" aria-label="Switch between Dark and Light mode">
                  </div>
                  </div>
  
  <style>

 

.js-toggle-wrapper {
    display: table;
    margin: 0 auto;
}

.js-toggle {
    touch-action: pan-x;
    display: inline-block;
    position: relative;
    cursor: pointer;
    background-color: transparent;
    border: 0;
    padding: 0;
    -webkit-touch-callout: none;
    user-select: none;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    -webkit-tap-highlight-color: transparent;
  }
  
  .js-toggle-screenreader-only {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
  
  .js-toggle-track {
    width: 50px;
    height: 24px;
    padding: 0;
    border-radius: 30px;
    background-color: hsl(222, 14%, 7%);
    transition: all 0.2s ease;
  }
  
  .js-toggle-track-check {
    position: absolute;
    width: 17px;
    height: 17px;
    left: 5px;
    top: 0px;
    bottom: 0px;
    margin-top: auto;
    margin-bottom: auto;
    line-height: 0;
    opacity: 0;
    transition: opacity 0.25s ease;
  }
  
  .js-toggle--checked .js-toggle-track-check {
    opacity: 1;
    transition: opacity 0.25s ease;
  }
  
  .js-toggle-track-x {
    position: absolute;
    width: 17px;
    height: 17px;
    right: 5px;
    top: 0px;
    bottom: 0px;
    margin-top: auto;
    margin-bottom: auto;
    line-height: 0;
    opacity: 1;
    transition: opacity 0.25s ease;
  }
  
  .js-toggle--checked .js-toggle-track-x {
    opacity: 0;
  }
  
  .js-toggle-thumb {
    position: absolute;
    top: 1px;
    left: 1px;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background-color: #fafafa;
    box-sizing: border-box;
    transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1) 0ms;
    transform: translateX(0);
  }
  
  .js-toggle--checked .js-toggle-thumb {
    transform: translateX(26px);
    border-color: #19ab27;
  }
  
  .js-toggle--focus .js-toggle-thumb {
    box-shadow: 0px 0px 2px 3px rgb(255, 167, 196);
  }
  
  .js-toggle:active .js-toggle-thumb {
    box-shadow: 0px 0px 5px 5px rgb(255, 167, 196);
  }
  
  body.dark-mode , 
  body.dark-mode main * {
    background-color: #000000;
    color: #000000;
    filter: invert(0.95);
}

  .dark-mode img {
  filter: invert(1) contrast(1.3) saturate(1.4);
}

  .dark-mode p {
  color: #000000;
}
  
  .dark-mode code {
    filter: invert(1) contrast(1.3) saturate(1.4);
    font-weight: bold;
    background: #353737;
    color: white;
}

  .dark-mode strong, b {
    filter: invert(1) contrast(1.3) saturate(1.4);
  }
  
  .dark-mode #social-share ul{
    margin: 0;
    filter: invert(1) contrast(1.3) saturate(1.4);
  }

  .dark-mode #header {
    filter: invert(1) contrast(1.3) saturate(1.4);
    position: fixed;
  }

  .dark-mode .js-toggle--focus .js-toggle-thumb {
    filter: invert(1) contrast(1.3) saturate(1.4);
  }

  .dark-mode .footer {
    filter: invert(1) contrast(1.3) saturate(1.4);
    position: fixed;
    background-color: white;
    font-weight: bold;
  }

  .dark-mode .nav-secondary {
    filter: invert(1) contrast(1.3) saturate(1.4);
}

  .dark-mode #reactions .reaction-items .reaction-item .reaction-item__button img, #reactions-promotion .reaction-items .reaction-item .reaction-item__button img {
    filter: invert(1) contrast(1.3) saturate(1.4);
}

</style>

<script>
    var body = document.body;
    var article = document.article;
	var switcher = document.getElementsByClassName('js-toggle')[0];

	
	switcher.addEventListener("click", function() {
        this.classList.toggle('js-toggle--checked');
        this.classList.add('js-toggle--focus');
		
		if (this.classList.contains('js-toggle--checked')) {
			body.classList.add('dark-mode');
			article.classList.add('post.dark-mode');
			
			localStorage.setItem('darkMode', 'true');
		} else {
			body.classList.remove('dark-mode');
			article.classList.remove('post.dark-mode');
			setTimeout(function() {
				localStorage.removeItem('darkMode');
			}, 100);
		}
	})

	
	if (localStorage.getItem('darkMode')) {
		
        switcher.classList.add('js-toggle--checked');
        body.classList.add('dark-mode');
        article.classList.add('post.dark-mode');
	}

</script>


      
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/algotech.netlify.com\/"
        },
        "articleSection" : "blog",
        "name" : "Topic Modelling with Latent Dirichlet Allocation (LDA)",
        "headline" : "Topic Modelling with Latent Dirichlet Allocation (LDA)",
        "description" : "Topic Modelling Background Natural Language Processing (NLP) is a branch of artificial intelligence that is steadily growing both in terms of research and market values1. The ultimate objective of NLP is to read, decipher, understand, and make sense of the human languages in a manner that is valuable2. The are many applications of NLP in various industries, such as:\n SPAM email detection Sentiment Analysis Text summarization Text Generation Topic Modelling  On this occation, we will learn about Topic Modelling and it\u0026rsquo;s application in a real case.",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2020",
        "datePublished": "2020-10-26 00:00:00 \u002b0000 UTC",
        "dateModified" : "2020-10-26 00:00:00 \u002b0000 UTC",
        "url" : "https:\/\/algotech.netlify.com\/blog\/topic-modeling-lda\/",
        "wordCount" : "21571",
        "keywords" : [ "Machine Learning","Topic Modelling","Blog" ]
    }
    </script>
        
            
                <title>Topic Modelling with Latent Dirichlet Allocation (LDA)</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.87.0" />
        
  
    
  

  

  <link rel="apple-touch-icon-precomposed" href='https://algotech.netlify.com/favicon/apple-touch-icon-precomposed.png'>
  <link rel="icon" href='https://algotech.netlify.com/favicon/favicon.png'>
  
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content='/favicon/mstile.png'>
  <meta name="application-name" content="Algoritma Technical Blog">
  <meta name="msapplication-tooltip" content="To learn more about our approach to data science problems, feel free to hop over to our blog.">
  <meta name="msapplication-config" content='/favicon/ieconfig.xml'>



        
            <meta name="author" content="Arga Adyatama, Joe Nathan">
        
        
            
                <meta name="description" content="To learn more about our approach to data science problems, feel free to hop over to our blog.">
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Topic Modelling with Latent Dirichlet Allocation (LDA)"/>
<meta name="twitter:description" content="Topic Modelling Background Natural Language Processing (NLP) is a branch of artificial intelligence that is steadily growing both in terms of research and market values1. The ultimate objective of NLP is to read, decipher, understand, and make sense of the human languages in a manner that is valuable2. The are many applications of NLP in various industries, such as:
 SPAM email detection Sentiment Analysis Text summarization Text Generation Topic Modelling  On this occation, we will learn about Topic Modelling and it&rsquo;s application in a real case."/>
<meta name="twitter:site" content="@teamalgoritma"/>

        <meta property="og:title" content="Topic Modelling with Latent Dirichlet Allocation (LDA)" />
<meta property="og:description" content="Topic Modelling Background Natural Language Processing (NLP) is a branch of artificial intelligence that is steadily growing both in terms of research and market values1. The ultimate objective of NLP is to read, decipher, understand, and make sense of the human languages in a manner that is valuable2. The are many applications of NLP in various industries, such as:
 SPAM email detection Sentiment Analysis Text summarization Text Generation Topic Modelling  On this occation, we will learn about Topic Modelling and it&rsquo;s application in a real case." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://algotech.netlify.com/blog/topic-modeling-lda/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2020-10-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-10-26T00:00:00+00:00" />


        <meta property="og:image" content="https://algotech.netlify.com//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        <meta itemprop="name" content="Topic Modelling with Latent Dirichlet Allocation (LDA)">
<meta itemprop="description" content="Topic Modelling Background Natural Language Processing (NLP) is a branch of artificial intelligence that is steadily growing both in terms of research and market values1. The ultimate objective of NLP is to read, decipher, understand, and make sense of the human languages in a manner that is valuable2. The are many applications of NLP in various industries, such as:
 SPAM email detection Sentiment Analysis Text summarization Text Generation Topic Modelling  On this occation, we will learn about Topic Modelling and it&rsquo;s application in a real case."><meta itemprop="datePublished" content="2020-10-26T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-10-26T00:00:00+00:00" />
<meta itemprop="wordCount" content="21571">
<meta itemprop="keywords" content="Machine Learning,Topic Modelling," />
        

        
            
        

        
        
            <link disabled id="dark-mode-theme" rel="stylesheet" href="https://algotech.netlify.com/css/dark.css">
            <link rel="stylesheet" href="https://algotech.netlify.com/css/monokai-sublime.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="https://algotech.netlify.com/css/main.css">
            <link rel="stylesheet" href="https://algotech.netlify.com/css/add-on.css">
            <link rel="stylesheet" href="https://algotech.netlify.com/css/academicons.min.css">
            <link href="https://algotech.netlify.com/lib/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
            <link href="https://algotech.netlify.com/lib/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet">
            <link href="https://algotech.netlify.com/lib/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet">
            <link href="https://algotech.netlify.com/lib/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet">
        
            <link rel="stylesheet" href=
            "https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
                <link rel="stylesheet" href=
            "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
                      integrity=
            "sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" 
                      crossorigin="anonymous">
                <script src=
            "https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js">
                </script>
                <script src=
            "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
                </script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.0/js.cookie.js">
                </script>
                
                <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.0/jquery.cookie.min.js">
                </script>
              
                <style>
                    
                     


                    .modal:before {
                        content: '';
                        display: inline-block;
                        height: 20%;
                        vertical-align: middle;
                    }
                      
                    .modal-dialog {
                        
                    display: -webkit-box;
                    display: -webkit-flex;
                    display: -ms-flexbox;
                    display: flex;
                    -webkit-box-orient: vertical;
                    -webkit-box-direction: normal;
                    -webkit-flex-direction: column;
                        -ms-flex-direction: column;
                            flex-direction: column;
                    -webkit-box-pack: center;
                    -webkit-justify-content: center;
                        -ms-flex-pack: center;
                            justify-content: center;
                    }

                      
                    .modal .modal-content {
                        padding: 20px 20px 20px 20px;
                        -webkit-animation-name: modal-animation;
                        -webkit-animation-duration: 0.5s;
                        animation-name: modal-animation;
                        animation-duration: 1.5s;
                    }

                

                    .modal .leadin-button {
                        -webkit-border-radius: 0.25em;
                        -moz-border-radius: 0.25em;
                        -ms-border-radius: 0.25em;
                        -o-border-radius: 0.25em;
                        border-radius: 0.25em;
                        -webkit-appearance: none;
                        cursor: pointer;
                        font-size: 1em;
                        font-weight: bold;
                        line-height: 1;
                        padding: 1em 1.5em;
                        width: 100%;
                        text-decoration: none;
                    }
                    .modal .leadin-button-primary {
                        background: #a90606 !important;
                        color: #FFFFFF !important;
                    }
                      
                    @-webkit-keyframes modal-animation {
                        from {
                            top: -100px;
                            opacity: 0;
                        }
                        to {
                            top: 0px;
                            opacity: 1;
                        }
                    }
                      
                    @keyframes modal-animation {
                        from {
                            top: -100px;
                            opacity: 0;
                        }
                        to {
                            top: 0px;
                            opacity: 1;
                        }
                    }
                </style>

            <script src="content/bootstrapJS/jquery-2.1.1.min.js" type="text/javascript"></script>

            <script type="text/javascript">
                
                
                $( document ).ready(function() {
  if (document.cookie.indexOf('visited=true') == -1){
    
                      $('#signupModal').modal('show');
    
                  var year = 1000*60*60*24*365;
    var expires = new Date((new Date()).valueOf() + year);
    document.cookie = "visited=true;expires=" + expires.toUTCString();

  }
}); 

            </script>
        
            

        
            
                
            
                
                    <link rel="stylesheet" href="https://algotech.netlify.com/css/main.css">
                
            
        


  
    
      <link rel="stylesheet" href="https://algotech.netlify.com/css/monokai-sublime.css" rel="stylesheet" id="theme-stylesheet">
      <script src="https://algotech.netlify.com/js/highlight.pack.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
  


      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-164959107-2', 'auto');
	
	ga('send', 'pageview');
}
</script>



      
    </head>
    <body>

        <div class="modal" id="signupModal"
        role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
 
       <div class="modal-dialog">
           <div class="modal-content">
 
               
               <div class="m-header">
                   <button class="close" data-dismiss="modal">
                       ×
                   </button>
                   <h2 class="myModalLabel"> Upcoming Workshop! </h2>
               </div>
 
               
               <div class="inputs">
 
                <a href="https://algorit.ma/ds-course/hr-industry/?utm_source=algotech"><img src="https://algotech.netlify.com/img/2021/ads/ks-hr.png",
                     alt="Building Tools for the HR Industry", style="float: left; padding-right: 20px;" padding: 1px  width="30%" height="30%"></a>
                <p>In this Kickstart Series, serial software entrepreneur Samuel Chan helps us get a behind-the-scenes look at how data scientists and developers create systems that bring the best out of the HR function.In this Kickstart Series, serial software entrepreneur Samuel Chan helps us get a behind-the-scenes look at how data scientists and developers create systems that bring the best out of the HR function.</p>
                <div class="advance-wrapper callout-special-font">
                    <a href="https://algorit.ma/ds-course/hr-industry/?utm_source=algotech" target="_blank" 
                    class="leadin-button leadin-advance-button leadin-button-primary">LEARN MORE</a>
                </div>
               </div>
 
 
           </div>
       </div>
   </div>

    </body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="https://algotech.netlify.com/">blog</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="https://algotech.netlify.com/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="https://algotech.netlify.com/tags/machine-learning/">
                            <i class="fa fa-cog">&nbsp;</i>Machine Learning
                    </a>
                </li>
            
                <li>
                    <a href="https://algotech.netlify.com/tags/data-visualization/">
                            <i class="fa fa-area-chart">&nbsp;</i>Data Visualization
                    </a>
                </li>
            
                <li>
                    <a href="https://algotech.netlify.com/tags/">
                            <i class="fa fa-list">&nbsp;</i>Article List
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://algotech.netlify.com/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="https://algotech.netlify.com/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="https://algotech.netlify.com/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://algotech.netlify.com/tags/machine-learning/">
                            <h3>
                                <i class="fa fa-cog">&nbsp;</i>Machine Learning
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://algotech.netlify.com/tags/data-visualization/">
                            <h3>
                                <i class="fa fa-area-chart">&nbsp;</i>Data Visualization
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://algotech.netlify.com/tags/">
                            <h3>
                                <i class="fa fa-list">&nbsp;</i>Article List
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://algotech.netlify.com/blog/regression-arima-arimax/">Regression ARIMA (ARIMAX)</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-09-09'>
                                    September 9, 2021</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://algotech.netlify.com/blog/hotel-forecast/">Multiple Hotel Segments Demand Forecasting</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-07-30'>
                                    July 30, 2021</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://algotech.netlify.com/blog/advancing-your-shinyapp-ii/">Advancing Your Shiny Application II</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-06-03'>
                                    June 3, 2021</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://algotech.netlify.com/blog/gridsearchcv/">GridSearchCV</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-05-22'>
                                    May 22, 2021</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://algotech.netlify.com/blog/kemiripan-teks/">Pengenalan Kemiripan Teks (Text Similarity) di Python</a></h3>
                                
                                <time class="published" datetime=
                                    '2021-05-20'>
                                    May 20, 2021</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="https://twitter.com/intent/tweet?text=Topic%20Modelling%20with%20Latent%20Dirichlet%20Allocation%20%28LDA%29 by Arga%20Adyatama%2c%20Joe%20Nathan&amp;url=https%3a%2f%2falgotech.netlify.com%2fblog%2ftopic-modeling-lda%2f" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2falgotech.netlify.com%2fblog%2ftopic-modeling-lda%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>







<li>
  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2falgotech.netlify.com%2fblog%2ftopic-modeling-lda%2f&amp;title=Topic%20Modelling%20with%20Latent%20Dirichlet%20Allocation%20%28LDA%29" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>











        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h2><a href="https://algotech.netlify.com/blog/topic-modeling-lda/">Topic Modelling with Latent Dirichlet Allocation (LDA)</a></h2>
        
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2020-10-26'>
            October 26, 2020</time>
        <span class="author"><a href="https://github.com/Argaadya/Topic_Modelling">Arga Adyatama, Joe Nathan</a></span>
        
            <p>102 minute read</p>
        
        
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="https://twitter.com/intent/tweet?text=Topic%20Modelling%20with%20Latent%20Dirichlet%20Allocation%20%28LDA%29 by Arga%20Adyatama%2c%20Joe%20Nathan&amp;url=https%3a%2f%2falgotech.netlify.com%2fblog%2ftopic-modeling-lda%2f" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2falgotech.netlify.com%2fblog%2ftopic-modeling-lda%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>







<li>
  <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2falgotech.netlify.com%2fblog%2ftopic-modeling-lda%2f&amp;title=Topic%20Modelling%20with%20Latent%20Dirichlet%20Allocation%20%28LDA%29" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>











      </ul>
    </section>
  

  

  <div id="content">
    <h1 id="topic-modelling">Topic Modelling</h1>
<h2 id="background">Background</h2>
<p>Natural Language Processing (NLP) is a branch of artificial intelligence that is steadily growing both in terms of research and market values<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>. The ultimate objective of NLP is to read, decipher, understand, and make sense of the human languages in a manner that is valuable<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>. The are many applications of NLP in various industries, such as:</p>
<ul>
<li>SPAM email detection</li>
<li>Sentiment Analysis</li>
<li>Text summarization</li>
<li>Text Generation</li>
<li>Topic Modelling</li>
</ul>
<p>On this occation, we will learn about Topic Modelling and it&rsquo;s application in a real case. Before we start the journey, let&rsquo;s consider a simple example.</p>
<p>Suppose that we have the following word cloud, can you guess what these words have in common?</p>
<!-- raw HTML omitted -->
<p>The interpretation may differ from one persone to another, but most of you must be agree that the word cloud has a common theme or topic. Perhaps you might say that it is related to economics, or politics, or business. The real theme of the words is unkown, but we as the observer are giving the group of words a meaningful and understandable topic. This activity is what we call as <strong>Topic Modelling</strong>.</p>
<blockquote>
<p>In text mining, we often have collections of documents, such as blog posts or news articles, that we’d like to divide into natural groups so that we can understand them separately. Topic modeling is a method for unsupervised classification of such documents, similar to clustering on numeric data, which finds natural groups of items even when we’re not sure what we’re looking for.</p>
<!-- raw HTML omitted -->
</blockquote>
<p>There are many application of Topic Modelling, even outside of the field of NLP. Some applications of Topic Modelling derived from <em>Boyd-Graber et al.</em><sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> and <em>Blei et al.</em><sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup> includes:</p>
<ul>
<li>Discover different topic in large corpus of document</li>
<li>Sentiment Analysis</li>
<li>Understanding Stance and Polarization in Social Media</li>
<li>Identify new innovation/discovery in scientific research paper</li>
<li>Document Classification</li>
<li>Recommender System</li>
</ul>
<p>Below is another example of topic modeling from <em>Blei et al.</em> where the top words for each topic (arts, budgets, children, and education) are shown. The colored text on the lower part of the figure illustrate that a single document is a collection of words with various topic.</p>
<!-- raw HTML omitted -->
<p>The popular algorithm for Topic Modeling is <strong>Latent Dirichlet Allocation (LDA)</strong>, which is developed by <!-- raw HTML omitted --> <strong>Blei et al.</strong> <!-- raw HTML omitted -->. This algorithm can be understood in this two simple properties<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup>:</p>
<ul>
<li><strong>Every document is a mixture of topics</strong>. We imagine that each document may contain words from several topics in particular proportions. For example, in a two-topic model we could say “Document 1 is 90% topic A and 10% topic B, while Document 2 is 30% topic A and 70% topic B.”</li>
<li><strong>Every topic is a mixture of words</strong>. For example, we could imagine a two-topic model of American news, with one topic for “politics” and one for “entertainment.” The most common words in the politics topic might be “President”, “Congress”, and “government”, while the entertainment topic may be made up of words such as “movies”, “television”, and “actor”. Importantly, words can be shared between topics; a word like “budget” might appear in both equally.</li>
</ul>
<p><strong>The objective</strong> of this article is as follows:</p>
<ul>
<li>Understand the advantage and disadvantage of LDA</li>
<li>Understand how to train and evaluate Topic Modelling with LDA</li>
<li>Learn how to implement Topic Modeling in a corpus of document</li>
<li>Learn how to interpret and explore the output of LDA</li>
</ul>
<h2 id="library-and-setup">Library and Setup</h2>
<p>Below is the required package to reproduce the code in this article.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># Data Wrangling</span>
<span style="color:#a6e22e">library</span>(tidyverse)

<span style="color:#75715e"># Text Processing</span>
<span style="color:#a6e22e">library</span>(tm)
<span style="color:#a6e22e">library</span>(corpus)
<span style="color:#a6e22e">library</span>(tidytext)
<span style="color:#a6e22e">library</span>(textclean)
<span style="color:#a6e22e">library</span>(lubridate)
<span style="color:#a6e22e">library</span>(hunspell)
<span style="color:#a6e22e">library</span>(SnowballC)
<span style="color:#a6e22e">library</span>(textmineR)
<span style="color:#a6e22e">library</span>(scales)

<span style="color:#75715e"># Visualization</span>
<span style="color:#a6e22e">library</span>(ggwordcloud)

<span style="color:#75715e"># Modeling and Evaluation</span>
<span style="color:#a6e22e">library</span>(randomForest)
<span style="color:#a6e22e">library</span>(e1071)
<span style="color:#a6e22e">library</span>(yardstick)

<span style="color:#a6e22e">options</span>(scipen <span style="color:#f92672">=</span> <span style="color:#ae81ff">999</span>)
</code></pre></div><h1 id="general-concept">General Concept</h1>
<p>This section illustrate the first principle and the workflow of Topic Modelling with LDA</p>
<h2 id="latent-dirichlet-allocation-lda">Latent Dirichlet Allocation (LDA)</h2>
<p>LDA is a generative probabilistic model of a corpus. Compared to other topic modelling methods such as the unigram model, Latent Semantic Analysis (LSA), and Probabilistic Latent Semantic Analysis (pLSA), the advantage and disadvantage of LDA is as follows:</p>
<p><strong>Advantages</strong></p>
<ul>
<li>Can find latent topic inside documents</li>
<li>Supervised learning requires a true label, which may not be available</li>
<li>LDA is easy to train</li>
<li>LDA can be paired with word2vec to retain the word representation.</li>
<li>LDA give interpretable topics</li>
</ul>
<p><strong>Disadvantages</strong></p>
<ul>
<li>Only considers document as a bag of words and ignore syntactic information (e.g. word order) and semantic information (e.g. the multiplicity of meanings of a given word)</li>
<li>Fixed number of topics</li>
<li>Uncorrelated topics (Dirichlet topic distribution cannot capture correlations)</li>
<li>Static (no evolution of topics over time)</li>
</ul>
<p>We will break the concept one step at a time. Back to the last section, the main principle of LDA is these 2 concepts:</p>
<ul>
<li><strong>Every document is a mixture of topics</strong></li>
<li><strong>Every topic is a mixture of words</strong></li>
</ul>
<p>We will go to the first concept. LDA does not give a clear answer wether a document belong to a certain topics because a document is considered as a mixture of topics. In a single document, we may find several topics. A news about the financial crisis of 2008 may consists of economics, politics and social topics, blended in a single article that discuss about the market value, the government response and the impact of high unemployment rate. Thus, as an example, a document may consists of 30% economics, 60% politics, and 10% social topics. The percentage of each topic represent the probability of the document to belong a certain topic. Therefore, we can imagine the mixture of topics as a probability distribution such as the following table:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)
<span style="color:#a6e22e">data.frame</span>(news <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>,
           economics <span style="color:#f92672">=</span> <span style="color:#a6e22e">runif</span>(<span style="color:#ae81ff">5</span>, max <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>),
           politics <span style="color:#f92672">=</span> <span style="color:#a6e22e">runif</span>(<span style="color:#ae81ff">5</span>, max <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate</span>(social <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> (economics <span style="color:#f92672">+</span> politics))
</code></pre></div><pre><code>#&gt;   news economics   politics    social
#&gt; 1    1 0.1437888 0.02277825 0.8334330
#&gt; 2    2 0.3941526 0.26405274 0.3417947
#&gt; 3    3 0.2044885 0.44620952 0.3493020
#&gt; 4    4 0.4415087 0.27571751 0.2827738
#&gt; 5    5 0.4702336 0.22830737 0.3014590
</code></pre><p>The first news has a 14% chance to be an economics news, 2% of politics news and 83% of social news. The second news has a 39% chance to be an economics news, 26% of politics news and 34% of social news and so on. Higher probability means that the document can be represented by the topic.</p>
<p>The word <em>Latent</em> in Latent Dirichlet Allocation refers to the latent or hidden structure inside a document. As we have seen in the previous section, we intuively think that a group of words can have a central theme or topics. Therefore, according to the second principle, a topic is a mixture of words, where a certain words have a strong association with a certain topic. For example, the word <em>President</em> have a strong signal that it belong to the topic of politics, or the word <em>Loan</em> and <em>Interest</em> have a strong signal toward economics topic. Just as a document has a probability distribution for each topic, a topic also has a probability distribution for each words/terms. LDA assume that a document is a bag of words, thus we do not care about the word sequence.</p>
<p>An LDA model is built based on these two principles and has the following graphical structures.</p>
<!-- raw HTML omitted -->
<p>Notation:</p>
<ul>
<li><code>\(\alpha\)</code> = The dirichlet parameter for per-document topic proportion</li>
<li><code>\(\theta_d\)</code> = Topic distribution of document <code>\(d\)</code></li>
<li><code>\(Z_{d,n}\)</code> = Topic assignment of the <code>\(n^{th}\)</code> word in document <code>\(d\)</code></li>
<li><code>\(W_{d,n}\)</code> = Observed word of the <code>\(n^{th}\)</code> word in document <code>\(d\)</code></li>
<li><code>\(\eta\)</code> =</li>
<li><code>\(\beta_k\)</code> = Words distribution of topic <code>\(k\)</code></li>
<li><code>\(K\)</code> = Collection of topics</li>
<li><code>\(N\)</code> = Collection of words within documents</li>
<li><code>\(D\)</code> = Collection of document in the corpus</li>
</ul>
<p>LDA belong to a hierarchical bayesian model. A bayesian model has a prior and a posterior. A prior means the probability distribution of certain things before we see the data. For example, we may belief that the probability distribution for a roll of dice is uniformly distributed with every value have the same probability to appear. We have this assumption before we try to roll the dice. Meanwhile, the posterior probability reflects the probability distribution after we see the data, after we roll the dice. For example, after we toss the dice for 10,000 times, the number 5 appears for more than 5,000 tosses. This may change our belief that the value for each side is uniformly distributed, since a single side of the dice has a high chance to appear and we might be suspicious that the dice is not fair. We can calculate the posterior probability using the Bayes Theorem<sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup>, which we will not discuss on this article. The concept of prior and posterior probability is important to the understanding of the LDA process.</p>
<p>The LDA model consists of 2 different priors distribution: probability distribution of topic to document (topic-document probability) and probability distribution of words to topics (word-topic probability). The probability distribution for the two priors are not uniform or normal distribution, but a Dirichlet distribution with the <code>\(\alpha\)</code> and <code>\(\beta\)</code> parameters as well as the number of topics as the input.</p>
<p>The following figure is the illustration of the Dirichlet distribution for each topic to each document. Suppose we have a collection of documents and we are confident that on the corpus we have 3 different topics. Each dot represent a single document and each side of the triangle represent a single topics. The position of each document represent the probability distribution for each topic. We randomly assign the position of each document based on its probability distribution. We can see that document A has a close proximity to the topic of Science. This indicate that document A has a high probability of belong to topic Science and low probability ot belong to Politics or Economy. Meanwhile, document B has a high probability to belong to the topic Economy. Document C is located between Science and Politics, so it has a rather equal probability for those topics and low probability for the topic Economy. The topic D is located at the center of the triangle, which means that it has an equal probability for the three topics.</p>
<!-- raw HTML omitted -->
<p>The goal of LDA is to make each document as close as possible toward a certain topics, although it may not always be achieved for all document. If the above graphics represent our prior probability for each document to each topics, the following graphic illustrate the posterior probability where all document is having a strong relation with a certain topics.</p>
<!-- raw HTML omitted -->
<p>We may translate the probability distribution into the following table:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(document <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;A&#34;</span>,<span style="color:#e6db74">&#34;B&#34;</span>,<span style="color:#e6db74">&#34;C&#34;</span>,<span style="color:#e6db74">&#34;D&#34;</span>),
           sciences <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.1</span>),
           politics <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">0.85</span>, <span style="color:#ae81ff">0.8</span>),
           economy <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.85</span>, <span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">0.1</span>))
</code></pre></div><pre><code>#&gt;   document sciences politics economy
#&gt; 1        A      0.8     0.10    0.10
#&gt; 2        B      0.1     0.05    0.85
#&gt; 3        C      0.1     0.85    0.05
#&gt; 4        D      0.1     0.80    0.10
</code></pre><p>The second prior distribution is the probability of a topics belong to certain words: word-topic probability. This prior is concerned with what terms that represent what topic? Is there any terms that have strong connection with certain topics? Let&rsquo;s say we have 4 terms: <em>President</em>, <em>Planet</em>, <em>Market</em>, and <em>Energy</em>. Each terms will act as the edge of the triangle. However, since we have more than 3 terms, the shape of the distribution is not a triangle anymore, but a tetrahedron. The following figures illustrate a random assignment of Dirichlet distribution between topics and words.</p>
<!-- raw HTML omitted -->
<p>If we translate the position of each topic into a probabilistic value, we get the following table:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(topic <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Politics&#34;</span>, <span style="color:#e6db74">&#34;Science&#34;</span>, <span style="color:#e6db74">&#34;Economy&#34;</span>),
           president <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">0.15</span>, <span style="color:#ae81ff">0.1</span>),
           planet <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.05</span>),
           energy <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.3</span>, <span style="color:#ae81ff">0.15</span>),
           market <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">0.7</span>))
</code></pre></div><pre><code>#&gt;      topic president planet energy market
#&gt; 1 Politics      0.80   0.05   0.10   0.05
#&gt; 2  Science      0.15   0.50   0.30   0.05
#&gt; 3  Economy      0.10   0.05   0.15   0.70
</code></pre><p>Based on the table, the terms <em>President</em> has strong association with the word politics, <em>Planet</em> with Science and <em>Market</em> with Economy.</p>
<p>These prior distribution will be used to generate word samples to calculate the posterior probability or the estimate of the true probability.</p>
<p>Let&rsquo;s go back toward the LDA structure.</p>
<!-- raw HTML omitted -->
<p>The generative process is the process of generating a document by randomly selecting words from each topic. The rough description of the process is as follows:</p>
<ol>
<li>
<p>Randomly choose a distribution over topics</p>
</li>
<li>
<p>For each word in the document</p>
<p>a. randomly choose a topic from the distribution over topics
b. randomly choose a word from the corresponding topic (distribution over the vocabulary)</p>
</li>
</ol>
<p>In order to estimate the posterior probability of the topic-document and word-topic distribution, we need to use Gibbs-sampling or Variational Expectation Maximation (VEM). Both are approximate inference method and has its own characteristic.</p>
<h2 id="gibbs-sampling">Gibbs Sampling</h2>
<p>The Gibbs sampling is one of many method to sample data in Bayesian Statistics. The concept of Gibbs sampling in topic modeling is that we assume that all documents and all terms have a prior topics except for a single word, which we will calculate the posterior probability of belonging to certain topics. The algorithm of Gibbs sampling is as follows:</p>
<hr>
<ol>
<li>For each iteration <code>\(i\)</code>:</li>
</ol>
<p>1.1 For each document <code>\(d\)</code> and word <code>\(n\)</code> currently assigned to <code>\(z_{old}\)</code> :</p>
<p>1.1.1 Decrement <code>\(n_{d,z_{old}}\)</code> and <code>\(v_{z_{old}, w_{d,n}}\)</code></p>
<p>1.1.2 Sample <code>\(z_{new} = k\)</code> with probability proportional to <code>\(\frac{n_{d,k} + \alpha_k\ v_{k,w_{d,n}} + \lambda_{w_{d,n}}}{\Sigma_i=k^K n_{d,i} +\alpha_i\ \Sigma_i v_{k,i} + \lambda_i}\)</code></p>
<p>1.1.3 Increment <code>\(n_{d,z_{new}}\)</code> and <code>\(v_{z_{old}, w_{d,n}}\)</code></p>
<hr>
<p>Notation :</p>
<p><code>\(z_{old}\)</code> : prior/early topic assignment</p>
<p><code>\(z_{new}\)</code> : updated topic assignment</p>
<p><code>\(n_{d,k}\)</code> : Number of times document <code>\(d\)</code> uses topic <code>\(k\)</code></p>
<p><code>\(v_{k, w_{d,n}}\)</code> : Number of times topic <code>\(k\)</code> uses word type <code>\(w_{d,n}\)</code></p>
<p><code>\(\alpha_k\)</code> : Dirichlet parameter for document to topic distribution</p>
<p><code>\(\lambda_{w_{d,n}}\)</code> : Dirichlet parameter for topic to word distribution</p>
<p>We will try with an example. Suppose we have a corpus of documents, with one of them is as follows:</p>
<blockquote>
<p>The government put curfew during pandemic</p>
</blockquote>
<p>Suppose that the document has a pre-determined topic assignment:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(
   topic <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>),
   term <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;the&#34;</span>, <span style="color:#e6db74">&#34;government&#34;</span>, <span style="color:#e6db74">&#34;put&#34;</span>, <span style="color:#e6db74">&#34;curfew&#34;</span>, <span style="color:#e6db74">&#34;during&#34;</span>, <span style="color:#e6db74">&#34;pandemic&#34;</span>)
) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">t</span>() <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">as.data.frame</span>()
</code></pre></div><pre><code>#&gt;        V1         V2  V3     V4     V5       V6
#&gt; topic   1          2   2      3      1        3
#&gt; term  the government put curfew during pandemic
</code></pre><p>The following is the count of words for each topics from all documents inside the corpus:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(
   term <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;the&#34;</span>, <span style="color:#e6db74">&#34;government&#34;</span>, <span style="color:#e6db74">&#34;put&#34;</span>, <span style="color:#e6db74">&#34;curfew&#34;</span>, <span style="color:#e6db74">&#34;during&#34;</span>, <span style="color:#e6db74">&#34;pandemic&#34;</span>),
   topic_1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">30</span> ,<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">8</span>),
   topic_2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>),
   topic_3 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">30</span>)
)
</code></pre></div><pre><code>#&gt;         term topic_1 topic_2 topic_3
#&gt; 1        the     200      40      10
#&gt; 2 government      10      30       2
#&gt; 3        put      30      10       1
#&gt; 4     curfew      20       5       8
#&gt; 5     during       5       3      17
#&gt; 6   pandemic       8       2      30
</code></pre><p>For the first iteration and the first term, we would like to update the topic assignment for the word <em>government</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(
   topic <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;?&#34;</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>),
   document <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;The&#34;</span>, <span style="color:#e6db74">&#34;government&#34;</span>, <span style="color:#e6db74">&#34;put&#34;</span>, <span style="color:#e6db74">&#34;curfew&#34;</span>, <span style="color:#e6db74">&#34;during&#34;</span>, <span style="color:#e6db74">&#34;pandemic&#34;</span>)
) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">t</span>() <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">as.data.frame</span>()
</code></pre></div><pre><code>#&gt;           V1         V2  V3     V4     V5       V6
#&gt; topic      1          ?   2      3      1        3
#&gt; document The government put curfew during pandemic
</code></pre><p>1.1.1 Decrement <code>\(n_{d,z_{old}}\)</code> and <code>\(v_{z_{old}, w_{d,n}}\)</code></p>
<p>The word <em>government</em> was assigned as topic 2 earlier so we would omit that assignment and reduce the count of word <em>government</em> from the topic 2 by 1 (from 30 to 29).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(
   term <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;the&#34;</span>, <span style="color:#e6db74">&#34;government&#34;</span>, <span style="color:#e6db74">&#34;put&#34;</span>, <span style="color:#e6db74">&#34;curfew&#34;</span>, <span style="color:#e6db74">&#34;during&#34;</span>, <span style="color:#e6db74">&#34;pandemic&#34;</span>),
   topic_1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">30</span> ,<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">8</span>),
   topic_2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">29</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>),
   topic_3 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">30</span>)
)
</code></pre></div><pre><code>#&gt;         term topic_1 topic_2 topic_3
#&gt; 1        the     200      40      10
#&gt; 2 government      10      29       2
#&gt; 3        put      30      10       1
#&gt; 4     curfew      20       5       8
#&gt; 5     during       5       3      17
#&gt; 6   pandemic       8       2      30
</code></pre><p>1.1.2 Sample <code>\(z_{new} = k\)</code> with probability proportional to <code>\(\frac{n_{d,k} + \alpha_k\ v_{k,w_{d,n}} + \lambda_{w_{d,n}}}{\Sigma_i=k^K n_{d,i} +\alpha_i\ \Sigma_i v_{k,i} + \lambda_i}\)</code></p>
<p>Now we update the topic assignment using the earlier formula. We will get the probability for each topic (k) and then sample the topic. Higher probability means that the word will be likely assigned to that topic.</p>
<p><code>$$z_{new} = \frac{n_{d,k} + \alpha_k\ v_{k,w_{d,n}} + \lambda_{w_{d,n}}}{\Sigma_{i=k}^K n_{d,i} +\alpha_i\ \Sigma_i v_{k,i} + \lambda_i}$$</code></p>
<p>Long story short, after we get the sample, we update the topic assignment for the word. For example, based on the sample, the new topic assignment for the word <em>government</em> is topic 1.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(
   topic <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>),
   document <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;The&#34;</span>, <span style="color:#e6db74">&#34;government&#34;</span>, <span style="color:#e6db74">&#34;put&#34;</span>, <span style="color:#e6db74">&#34;curfew&#34;</span>, <span style="color:#e6db74">&#34;during&#34;</span>, <span style="color:#e6db74">&#34;pandemic&#34;</span>)
) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">t</span>() <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">as.data.frame</span>()
</code></pre></div><pre><code>#&gt;           V1         V2  V3     V4     V5       V6
#&gt; topic      1          1   2      3      1        3
#&gt; document The government put curfew during pandemic
</code></pre><p>1.1.3 Increment <code>\(n_{d,z_{new}}\)</code> and <code>\(v_{z_{old}, w_{d,n}}\)</code></p>
<p>We increment the counts for each word to each topic based on the newly updated assignment and we continue to update the topic for the next words. The count for word <em>government</em> for topic 1 is increased from 10 to 1.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">data.frame</span>(
   term <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;the&#34;</span>, <span style="color:#e6db74">&#34;government&#34;</span>, <span style="color:#e6db74">&#34;put&#34;</span>, <span style="color:#e6db74">&#34;curfew&#34;</span>, <span style="color:#e6db74">&#34;during&#34;</span>, <span style="color:#e6db74">&#34;pandemic&#34;</span>),
   topic_1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">30</span> ,<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">8</span>),
   topic_2 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">29</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>),
   topic_3 <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">30</span>)
)
</code></pre></div><pre><code>#&gt;         term topic_1 topic_2 topic_3
#&gt; 1        the     200      40      10
#&gt; 2 government      11      29       2
#&gt; 3        put      30      10       1
#&gt; 4     curfew      20       5       8
#&gt; 5     during       5       3      17
#&gt; 6   pandemic       8       2      30
</code></pre><h1 id="case-studies">Case Studies</h1>
<h2 id="covid-19-cbc-news">COVID-19 CBC News</h2>
<p>We will try to do a document modelling to find different topics in <strong>CBC News/COVID-19 Articles</strong>. The dataset is acquired from <!-- raw HTML omitted --> Kaggle <!-- raw HTML omitted -->. The context of the dataset is that has the news media been overreacting or under-reacting during the development of COVID-19? What are the media&rsquo;s main focuses?</p>
<p>We will try to answer this problem by finding latent information inside corpus using Latent Dirichlet Allocation.</p>
<h3 id="import-data">Import Data</h3>
<p>The dataset consists of more than 2,725 articles with 7 columns. To read &lsquo;big&rsquo; data with fast running time, we can use <code>fread()</code> function from <code>data.table</code> package.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">covid_news <span style="color:#f92672">&lt;-</span> data.table<span style="color:#f92672">::</span><span style="color:#a6e22e">fread</span>(<span style="color:#e6db74">&#34;data_input/covid_news.csv&#34;</span>, header <span style="color:#f92672">=</span> T, encoding <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Latin-1&#34;</span>)

<span style="color:#a6e22e">glimpse</span>(covid_news)
</code></pre></div><pre><code>#&gt; Rows: 2,725
#&gt; Columns: 7
#&gt; $ V1           &lt;int&gt; 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15, 16, 17…
#&gt; $ authors      &lt;chr&gt; &quot;['Cbc News']&quot;, &quot;['Cbc News']&quot;, &quot;['The Associated Press'…
#&gt; $ title        &lt;chr&gt; &quot;Coronavirus a 'wake-up call' for Canada's prescription …
#&gt; $ publish_date &lt;chr&gt; &quot;2020-03-27 08:00:00&quot;, &quot;2020-03-27 01:45:00&quot;, &quot;2020-03-2…
#&gt; $ description  &lt;chr&gt; &quot;Canadian pharmacies are limiting how much medication ca…
#&gt; $ text         &lt;chr&gt; &quot;Canadian pharmacies are limiting how much medication ca…
#&gt; $ url          &lt;chr&gt; &quot;https://www.cbc.ca/news/health/covid-19-drug-supply-1.5…
</code></pre><p>Data description:</p>
<ul>
<li><strong>V1</strong>: Document index</li>
<li><strong>authors</strong>: The author of the news/articles</li>
<li><strong>title</strong>: The title of the news/articles</li>
<li><strong>publish_date</strong>: The date when the news/article is published</li>
<li><strong>description</strong>: The subtitle or headline of the news/article</li>
<li><strong>text</strong>: The full text of the news/article</li>
<li><strong>url</strong>: The link of the news/article</li>
</ul>
<p>Below is the sample of the data.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">head</span>(covid_news, <span style="color:#ae81ff">10</span>)
</code></pre></div><pre><code>#&gt;     V1
#&gt;  1:  0
#&gt;  2:  1
#&gt;  3:  2
#&gt;  4:  3
#&gt;  5:  4
#&gt;  6:  5
#&gt;  7:  6
#&gt;  8:  7
#&gt;  9:  8
#&gt; 10:  9
#&gt;                                                                                                                                                                                                     authors
#&gt;  1:                                                                                                                                                                                            ['Cbc News']
#&gt;  2:                                                                                                                                                                                            ['Cbc News']
#&gt;  3:                                                                                                                                                                                ['The Associated Press']
#&gt;  4:                                                                                                                                                                                            ['Cbc News']
#&gt;  5:                                                                                                                                                                                            ['Cbc News']
#&gt;  6:                                                                                      ['Mark Gollom Is A Toronto-Based Reporter With Cbc News. He Covers Canadian', 'U.S. Politics', 'Current Affairs.']
#&gt;  7:                                                                                                                                                                                            ['Cbc News']
#&gt;  8:                                                                                                                                                                                ['The Associated Press']
#&gt;  9:                                                                                                                                                                                     ['Thomson Reuters']
#&gt; 10: ['Leah Hendry Is A Tv', 'Radio', 'Online Journalist With Cbc Montreal Investigates. Contact Her Via Our Confidential Tipline', 'Or On Email At Montrealinvestigates Cbc.Ca.', 'Follow Leah On Twitter']
#&gt;                                                                                                             title
#&gt;  1:                                            Coronavirus a 'wake-up call' for Canada's prescription drug supply
#&gt;  2:                                                  Yukon gov't names 2 possible sources of coronavirus exposure
#&gt;  3:                                                             U.S. Senate passes $2T coronavirus relief package
#&gt;  4:                                             Coronavirus: The latest in drug treatment and vaccine development
#&gt;  5:                                                           The latest on the coronavirus outbreak for March 26
#&gt;  6:                                          'Worse' pandemic on horizon unless world deals with wildlife markets
#&gt;  7:                                            What you need to know about COVID-19 in Ottawa on Friday, March 27
#&gt;  8:                                                   Michigan hospitals jammed as coronavirus cases, deaths rise
#&gt;  9:                                                               U.S. coronavirus cases now highest in the world
#&gt; 10: 'Avoid the emergency' pleads Jewish General, as it hurries to find safer ways to evaluate mildly ill patients
#&gt;            publish_date
#&gt;  1: 2020-03-27 08:00:00
#&gt;  2: 2020-03-27 01:45:00
#&gt;  3: 2020-03-26 05:13:00
#&gt;  4: 2020-03-27 00:36:00
#&gt;  5: 2020-03-26 20:57:00
#&gt;  6: 2020-03-27 08:00:00
#&gt;  7: 2020-03-27 08:00:00
#&gt;  8: 2020-03-26 11:02:00
#&gt;  9: 2020-03-26 14:55:00
#&gt; 10: 2020-03-27 08:00:00
#&gt;                                                                                                                                                                                                                                                  description
#&gt;  1: Canadian pharmacies are limiting how much medication can be dispensed to try to prevent shortages, recognizing that most active ingredients for drugs come from India and China and medical supply chains have been disrupted by the spread of COVID-19.
#&gt;  2:                                                                                     The Yukon government has identified two places in Whitehorse — a church and a dental clinic — where people may have been exposed to the coronavirus in recent weeks.
#&gt;  3:                                                                             The Senate has passed an unparalleled $2.2 trillion economic rescue package steering aid to businesses, workers and health care systems engulfed by the coronavirus pandemic
#&gt;  4:                                                                                          Scientists around the world are racing to find novel ways to treat, mitigate or prevent infection from the novel coronavirus. Here are the latest developments.
#&gt;  5:                                                                                                                                                                              The latest on the coronavirus outbreak from CBC News for Thursday, March 26
#&gt;  6:          The continued existence of wildlife markets, which are considered potential breeding grounds for the spread of harmful viruses, means it's just a matter of time before the world is hit with another deadly pandemic, some scientists suggest.
#&gt;  7:                                                                                                                                                                               CBC Ottawa's latest roundup of key points during the coronavirus pandemic.
#&gt;  8:                                                                                                                                                    Michigan hospitals are bracing for a surge of coronavirus cases as infections rise to at least 2,294.
#&gt;  9:     The number of confirmed COVID-19 cases in the U.S. rose to 81,378 on Thursday — more than any other country, overtaking both Italy and China — while the death toll passed the 1,000 mark, according to a running tally by Johns Hopkins University.
#&gt; 10:                                                     Montreal's Jewish General Hospital, one of the designated COVID-19 treatment centres, is setting up trailers outside its main building, where people with minor symptoms can seek medical attention.
#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               text
#&gt;  1:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Canadian pharmacies are limiting how much medication can be dispensed to try to prevent shortages, recognizing that most active ingredients for drugs come from India and China and medical supply chains have been disrupted by the spread of COVID-19. Provincial regulatory colleges are complying with the Canadian Pharmacists Association call to limit the amount of medications given to patients to 30-day supplies. The goal is to stop people from refilling prescriptions early and to ensure life-saving drugs don't run short when supply chains are vulnerable. Mina Tadrous is a pharmacist and researcher in Toronto who monitors pharmaceutical supplies. He is worried Canadians will start stockpiling drugs after watching what has been unfolding in the U.S. and other regions as the virus spreads.  He said pharmacists are concerned about drugs such as life-saving inhalers that people might stockpile based on misinformation circulating about potential treatments for COVID-19. &quot;&quot;&quot;&quot;It's that relationship of how people are reacting rather than the actual supply of medications,&quot;&quot;&quot;&quot; he said.  Tadrous said pharmacies get their medications and supplies from wholesalers, who get theirs from distributors who source them from manufacturers. Outside of wholesalers, most of that supply chain is outside of Canada.  Ongoing shortages Dr. Jacalyn Duffin of Queen's University in Kingston, Ont., has long warned about the increasing frequency of drug shortages, including nearly 2,000 ongoing shortages, none of which she attributes to coronavirus. China and India produce 80 per cent of the active ingredients of prescription drugs sold in North America, said Dr. Jacalyn Duffin. (Kas Roussy/CBC) Given that China and India produce 80 per cent of the active ingredients of prescription drugs sold in North America, supply disruptions are expected eventually, Duffin said. &quot;&quot;&quot;&quot;I think that the coronavirus outbreak is a big wake-up call for us to pay attention to our drug shortages that exist already and to pay attention to where our drugs come from,&quot;&quot;&quot;&quot; she said. What you need to know about getting new prescriptions, refillsNew Brunswick offers relief on prescription co-pays during outbreak India, a major supplier of generic drugs to Europe, has already shut down the export of some antibiotics and drugs for hypertension, blood pressure and acetaminophen, Duffin said. As a precaution, the federal government has enacted sweeping legislation that gives it the right to force patented drugmakers to make more medicine if necessary and remove patents as part of the response to the public health emergency. 
#&gt;  2:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             The Yukon government has identified two places in Whitehorse — a church and a dental clinic — where people may have been exposed to the coronavirus in recent weeks. In a news release Thursday evening, the government said anybody who went to either place on certain days should monitor themselves for symptoms that may indicate COVID-19 — fever, cough or difficulty breathing — for up to 14 days, and call 811 if those symptoms develop. The possible sources of exposure are:  Sunday morning services at Bethany Church on the Alaska Highway, on March 8 and March 15, or the church's &quot;&quot;&quot;&quot;Kids Zone&quot;&quot;&quot;&quot; on March 8. Elias Dental clinic, from March 9 to 13, or March 16.  According to the news release, those places were visited on those dates by a person or persons who tested positive for COVID-19. It also says that people who attended those places at the identified times do not need to self-isolate, so long as they remain healthy and do not develop symptoms.  &quot;&quot;&quot;&quot;The risk to individuals from both of these possible exposures is low,&quot;&quot;&quot;&quot; the release says. Bethany Church in Whitehorse. According to the Yukon government, someone who later tested positive for COVID-19 attended Sunday morning services at the church on Mar. 8 and 15. (Paul Tukker/CBC) As of Wednesday, Yukon had three confirmed cases of COVID-19. Health officials announced the first two cases on Sunday, saying it was a couple from Whitehorse. The third person's community has not been disclosed. Yukon bans residential evictions, offers paid sick leave during COVID-19 pandemicCOVID-19 testing centre up and running in Whitehorse The person or people who attended Bethany Church and Elias Dental are recovering at home, according to the government's news release. It also says there is no ongoing risk to the community associated with either the church or the dental clinic.
#&gt;  3:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               The Senate late Wednesday passed an unparalleled $2.2 trillion US economic rescue package steering aid to businesses, workers and health care systems engulfed by the coronavirus pandemic. The unanimous vote came despite misgivings on both sides about whether it goes too far or not far enough and capped days of difficult negotiations as Washington confronted a national challenge unlike it has ever faced. The 880-page measure is the largest economic relief bill in U.S. history. Republican Senate Majority Leader Mitch McConnell appeared sombre and exhausted as he announced the vote — and he released senators from Washington until April 20, though he promised to recall them if needed. &quot;&quot;&quot;&quot;The legislation now before us now is historic because it is meant to match a historic crisis,&quot;&quot;&quot;&quot; said Democratic Senate Minority Leader Chuck Schumer. &quot;&quot;&quot;&quot;Our health care system is not prepared to care for the sick. Our workers are without work. Our businesses cannot do business. Our factories lie idle. The gears of the American economy have ground to a halt.&quot;&quot;&quot;&quot; WATCH | U.S. closer to passing aid package as Louisiana becomes potential hotspot: American lawmakers are confident an aid package will be approved this week as officials identify Louisiana as a possible hotspot for COVID-19 cases. 1:59 The package is intended as relief for an economy spiralling into recession or worse and a nation facing a grim toll from an infection that's killed nearly 20,000 people worldwide. Treasury Secretary Steven Mnuchin, asked how long the aid would keep the economy afloat, said: &quot;&quot;&quot;&quot;We've anticipated three months. Hopefully, we won't need this for three months.&quot;&quot;&quot;&quot; Underscoring the effort's sheer magnitude, the bill finances a response with a price tag that equals half the size of the entire $4 trillion annual federal budget. Insistently optimistic, President Donald Trump said of the greatest public-health emergency in anyone's lifetime, &quot;&quot;&quot;&quot;I don't think its going to end up being such a rough patch&quot;&quot;&quot;&quot; and anticipated the economy soaring &quot;&quot;&quot;&quot;like a rocket ship&quot;&quot;&quot;&quot; when it's over. Coronavirus impact spreads across U.S., with much of the population under stay-at-home ordersAnyone leaving New York must self-isolate or risk spreading COVID-19, health officials say The drive by leaders to speed the bill through the Senate was slowed as four conservative Republican senators from states who economies are dominated by low-wage jobs demanded changes, saying the legislation as written might give workers like store clerks incentives to stay on unemployment instead of returning return to their jobs since they may earn more money if they're laid off than if they're working. They settled for a failed vote to modify the provision. Other objections floated in from New York Gov. Andrew Cuomo, who has become a prominent Democrat on the national scene as the country battles the pandemic. Cuomo, whose state has seen more deaths from the pandemic than any other, said, &quot;&quot;&quot;&quot;I'm telling you, these numbers don't work.&quot;&quot;&quot;&quot; Ardent liberals like Rep. Alexandria Ocasio-Cortez were restless as well, but top Washington Democrats assured them that a additional coronavirus legislation will follow this spring and signalled that delaying the pending measure would be foolish. The sprawling measure is the third coronavirus response bill produced by Congress and by far the largest. It builds on efforts focused on vaccines and emergency response, sick and family medical leave for workers, and food aid. Provides direct payments Democratic House Speaker Nancy Pelosi swung behind the bipartisan agreement, saying it &quot;&quot;&quot;&quot;takes us a long way down the road in meeting the needs of the American people.&quot;&quot;&quot;&quot; Senate passage delivered the legislation to the Democratic-controlled House, which will most likely pass it Friday. House members are scattered around the country and the timetable for votes in that chamber was unclear. House Democratic and Republican leaders have hoped to clear the measure for Trump's signature by a voice vote without having to call lawmakers back to Washington. The package would give direct payments to most Americans, expand unemployment benefits and provide a $367 billion program for small businesses to keep making payroll while workers are forced to stay home. It includes a controversial, heavily negotiated $500 billion program for guaranteed, subsidized loans to larger industries, including airlines. Hospitals would get significant help as well. Six days of arduous talks produced the bill, creating tensions among Congress' top leaders, who each took care to tend to party politics as they maneuvered and battled over crafting the legislation. But failure is not an option, nor is starting over, which permitted both sides to include their priorities. &quot;&quot;&quot;&quot;That Washington drama does not matter any more,&quot;&quot;&quot;&quot; McConnell said. &quot;&quot;&quot;&quot;The Senate is going to stand together, act together, and pass this historic relief package today.&quot;&quot;&quot;&quot; U.S. Capitol Police officers stand atop of the U.S. Senate stairway, ahead of a vote on the coronavirus relief bill, on Capitol Hill in Washington Wednesday.  (Tom Brenner/Reuters) The bill would provide one-time direct payments to Americans of $1,200 per adult making up to $75,000 a year, and $2,400 to a married couple making up to $150,000, with $500 payments per child. A huge cash infusion for hospitals expecting a flood of COVID-19 patients grew during the talks to an estimated $130 billion. Another $45 billion would fund additional relief through the Federal Emergency Management Agency for local response efforts and community services. Democrats said the package would help replace the salaries of furloughed workers for four months, rather than the three months first proposed. Furloughed workers would get whatever amount a state usually provides for unemployment, plus a $600 per week add-on, with gig workers like Uber drivers covered for the first time. Republicans won inclusion of an &quot;&quot;&quot;&quot;employee retention&quot;&quot;&quot;&quot; tax credit that's estimated to provide $50 billion to companies that retain employees on payroll and cover 50 per cent of workers' paycheque up to $10,000. Companies would also be able to defer payment of the 6.2 per cent Social Security payroll tax.
#&gt;  4:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Scientists around the world are racing to find novel ways to treat, mitigate or prevent infection from the novel coronavirus. The response has been especially rapid as the virus has spread unchecked across the globe. Still, any treatments are a long way from being proven both effective and safe, and most certainly won't come in time to address the current pandemic. According to some of the top infectious disease experts in the world, even on an accelerated timeline, a vaccine is still likely 12-18 months away — and then the challenge will be producing enough to make it readily available. There is currently no drug therapy or vaccine approved anywhere in the world for COVID-19. Here are the latest developments in the research. Old drugs, new tricks March 26: University of Manitoba researchers begin recruiting participants for a series of trials to test whether the malaria drug hydroxychloroquine can reduce the symptoms and severity of COVID-19 and slow its spread. The trial, in conjunction with researchers at the University of Minnesota, University of Alberta and McGill University Health Centre, will include participants who have tested positive for COVID-19, or who live with someone who has. Long-term use of hydroxychloroquine is known to cause cardiac and eye toxicity, but Dr. Ryan Zarychanski, an associate professor of internal medicine, said the short five-day trial should be &quot;&quot;&quot;&quot;very safe.&quot;&quot;&quot;&quot;  Manitoba researchers begin clinical trial with drug they hope can help in COVID-19 fight  &quot;&quot;&quot;&quot;The idea is to reduce the severity of symptoms,&quot;&quot;&quot;&quot; said Zarychanski, a critical care doctor, &quot;&quot;&quot;&quot;and also reduce the transmissibility of the virus and reduce community spread, which can help keep our population more healthy and reduce the burden that we're expecting on the health care system.&quot;&quot;&quot;&quot; But experts, including Canada's chief public health officer, warn that hydroxychloroquine can have serious side-effects. They also say there is a danger that hoarding the medication could hurt the many patients who take it for chronic inflammatory diseases like lupus and rheumatoid arthritis.  Canadian doctors urge caution on repurposing malaria medication to fight COVID-19  March 25: New York's Mount Sinai hospital begins treating critically ill COVID-19 patients via plasmapheresis, a century-old therapy that involves removing antibody-rich plasma from blood and returning it to a patient (the same or another) after either treating it or replacing it. In this case, doctors will transfer antibodies from recovered COVID-19 patients into sick ones in the hopes the antibodies will neutralize the disease. .&lt;a href=&quot;&quot;&quot;&quot;https://twitter.com/MountSinaiNYC?ref_src=twsrc%5Etfw&quot;&quot;&quot;&quot;&gt;@MountSinaiNYC&lt;/a&gt; to begin the transfer of &lt;a href=&quot;&quot;&quot;&quot;https://twitter.com/hashtag/COVID19?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&quot;&quot;&quot;&gt;#COVID19&lt;/a&gt; antibodies into critically ill patients: &lt;a href=&quot;&quot;&quot;&quot;https://t.co/bpSB2HuSqR&quot;&quot;&quot;&quot;&gt;https://t.co/bpSB2HuSqR&lt;/a&gt; &lt;a href=&quot;&quot;&quot;&quot;https://t.co/GpEHoHEEM6&quot;&quot;&quot;&quot;&gt;pic.twitter.com/GpEHoHEEM6&lt;/a&gt;&amp;mdash;@IcahnMountSinai March 23: Researchers at the Montreal Heart Institute say they are recruiting up to 6,000 Quebecers over the age of 40 who test positive for the novel coronavirus to study whether colchicine, an anti-inflammatory drug used to treat gout, Behçet's disease and familial Mediterranean fever, is effective in treating respiratory complications of COVID-19, like lung inflammation, before patients need ventilators or die. Quebecers who meet the criteria and wish to take part in the study at the Montreal Heart Institute can find out more from their doctor or by calling 1-877-536-6837. (Montreal Heart Institute) &quot;&quot;&quot;&quot;It's inexpensive, it's widely available and the reason why we think it might very well work is that it's a powerful anti-inflammatory agent,&quot;&quot;&quot;&quot; Dr. Jean-Claude Tardif, the institute's research director, said in an interview with CBC Montreal's Daybreak.   Montreal Heart Institute launches clinical study into colchicine as potential COVID-19 treatment  Immunizing the herd March 23: The Canadian government announces $275 million in funding for a number of Canadian research initiatives into vaccine development and testing. One of them is a Saskatoon lab that for four decades has been working on coronavirus vaccines primarily for animals, including successful vaccines for cattle and pigs.  March 17: China gives the go-ahead for researchers at the country's Academy of Military Medical Sciences to begin human safety tests of an experimental coronavirus vaccine. March 16: Scientists at the Kaiser Permanente Washington Research Institute in Seattle begin a first-stage study of a potential COVID-19 vaccine when they administer the first shot to a volunteer patient. With no clear end in sight, the urgent race for a vaccine is on across the world. This week, hopes for a vaccine grew as some biotech players are seemingly making progress. But, some experts caution that this process cannot be rushed - and that we are still far from seeing a vaccine on the market. 13:25
#&gt;  5:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Trudeau says rules of Quarantine Act will be enforced to keep people isolated. Canada 'strongly opposed' to U.S. stationing troops near shared border. China prepares to close its borders to foreigners, fearing a 2nd wave of COVID-19. Medical experts warn against claims by Winnipeg acupuncturist advertising 'coronavirus prevention tea.' Read more: Track the coronavirus across Canada and around the world.  A sign in Assiniboine Park in Winnipeg encourages visitors to practice social distancing. (Trevor Brine/CBC) Trudeau says rules of Quarantine Act will be enforced to keep people isolated  A new order requiring travellers returning to Canada from abroad to self-isolate for 14 days is the latest measure from a government trying to deal with both a rise in COVID-19 cases and the growing economic fallout. &quot;&quot;&quot;&quot;We are implementing the Quarantine Act to keep all Canadians safe,&quot;&quot;&quot;&quot; Prime Minister Justin Trudeau said today, calling decisions by some to ignore the call to self-isolate for two weeks &quot;&quot;&quot;&quot;disappointing&quot;&quot;&quot;&quot; and &quot;&quot;&quot;&quot;dangerous.&quot;&quot;&quot;&quot; When asked why the quarantine measure wasn't introduced sooner, Trudeau said &quot;&quot;&quot;&quot;the vast majority&quot;&quot;&quot;&quot; of Canadians have been following public health guidelines and taking the precautions necessary to protect themselves and others. But, he said, &quot;&quot;&quot;&quot;there have been too many people who have not,&quot;&quot;&quot;&quot; which required the use of a rule with enforcement measures. There have been questions about whether the government's measures at the border to date have been strict enough, furthering concern that some returning travellers weren't complying with the self-isolation request. Premiers, including Ontario's Doug Ford and Alberta's Jason Kenney, addressed that concern earlier this week, prior to the mandatory measure from Ottawa. Read more Canada 'strongly opposed' to U.S. stationing troops near shared border The Canadian government said it is &quot;&quot;&quot;&quot;strongly opposed&quot;&quot;&quot;&quot; to the idea of sending U.S. troops to the border to intercept illegal migrants as part of that country's response to the coronavirus pandemic. &quot;&quot;&quot;&quot;This is an entirely unnecessary step, which we would view as damaging to our relationship,&quot;&quot;&quot;&quot; Deputy Prime Minister Chrystia Freeland said today following the first public reports. A source with knowledge of discussions by White House officials told CBC News the White House is looking at placing 1,000 troops about 25 kilometres from the 8,891-kilometre-long border and using remote sensors to look out for irregular border-crossers. The source stressed that the U.S. hasn't made a final decision. Canada and the U.S. have a mutual ban in place on non-essential travel across the border, which includes trips for recreational purposes. When that ban was announced, both sides stressed the importance of continuing to allow trade, commerce and cross-border essential workers to move back and forth over the border. Read more  Medical experts warn against claims by Winnipeg acupuncturist advertising 'coronavirus prevention tea' A hidden camera investigation revealed a Winnipeg acupuncturist was selling an herbal tea that he claims can prevent COVID-19. In an email blast to clients last week, Guojian Huang, an acupuncture therapist and specialist in traditional Chinese medicine, said drinking a blend of six herbs in a tea over six days would keep people safe. Health Canada has not approved any product to prevent, treat or cure COVID-19, the illness caused by the novel coronavirus. &quot;&quot;&quot;&quot;Selling unauthorized health products or making false or misleading claims to prevent, treat or cure COVID-19 is illegal in Canada,&quot;&quot;&quot;&quot; a Health Canada spokesperson said in an email to CBC News. &quot;&quot;&quot;&quot;We take this matter very seriously and we are taking action to stop this activity.&quot;&quot;&quot;&quot; A Toronto physician who treated patients during the SARS outbreak cautioned people against believing claims about COVID-19 cures. &quot;&quot;&quot;&quot;My concern is that they're desperate,&quot;&quot;&quot;&quot; Dr. Peter Lin said. &quot;&quot;&quot;&quot;They take this stuff and then now they think they're invincible, and they don't do the precautions that will actually protect them, because now they're trusting in this particular tea.&quot;&quot;&quot;&quot; Read more  ANALYSIS Chris Hadfield's recommendations for self-isolation Astronaut Chris Hadfield spent months as the commander of the International Space Station, so he knows a thing or two about spending long periods of time in isolation. &quot;&quot;&quot;&quot;Confined spaces are almost entirely psychological,&quot;&quot;&quot;&quot; Hadfield told CBC's Heather Hiscox earlier today. &quot;&quot;&quot;&quot;I think the real thing to do is to just look at the reality of where you are and the opportunities that you have and the way you can still be productive and interact and be mentally stimulated and just go with that. Stop worrying that it's different, and instead go with the reality of the new set of rules that you're living under.&quot;&quot;&quot;&quot; Hadfield says the tumult forced on us by COVID-19 is an opportunity to be productive amid a wealth of technology. 16:09 Hadfield said time spent staying at home amid the outbreak presents a unique educational opportunity. &quot;&quot;&quot;&quot;Right now, maybe for the first time in a long time, you've got some downtime, some opportunity to actually learn things,&quot;&quot;&quot;&quot; he said. &quot;&quot;&quot;&quot;And the internet — the way I'm communicating with you right now — right there at your fingertips is this expertise on unlimited subjects. Anything you've ever been curious about you can now dig into and really get it squared away in your mind.&quot;&quot;&quot;&quot; THE SCIENCE What are the riskiest surfaces for coronavirus? In general, surfaces are riskier if they are smooth, such as metal or plastic (although copper-containing metals are antimicrobial and can kill viruses more quickly). Viruses generally don't survive as long on porous surfaces like paper or clothing. Surfaces that are touched a lot by a lot of people —such as doorknobs, faucets and phones — are generally riskier as well. Studies have detected coronaviruses on phones, doorknobs, computer mice, toilet handles, latex gloves and sponges in hospital and apartments. The Public Health Agency of Canada, U.S. Centers for Disease Control and Prevention and World Health Organization recommend that you wash your hands often with soap and water for at least 20 seconds (or use hand sanitizer with at least 60 per cent alcohol if soap and water aren't available). You should also avoid touching your eyes, nose and mouth with unwashed hands and clean and disinfect frequently touched surfaces daily. In public places, you should avoid touching surfaces. If you have to touch something, you can use disinfectant wipes to wipe off surfaces that are touched frequently by other people, like grocery cart handles, Ottawa epidemiologist Dr. Rama Nair recommends. AND FINALLY... Free and family-friendly options to watch while staying at home Choosing what to watch while staying home is is an increasingly important decision for families around the world.  (Gareth Copley/Getty Images) On what should have been Opening Day of the Major League Baseball season — leaving a certain Coronavirus Brief writer despondent — choosing what to watch is an increasingly prominent discussion for families amid the ongoing outbreak. With schools shut and many parents now working from home, finding accessible and affordable ways to keep kids entertained can be a challenge, especially with rising subscription fees. Fortunately, there are plenty of free and family-friendly options out there, including:  Tubi, an ad-supported streaming service with a broad catalogue of titles and shows. Kanopy, which partners with public libraries to offer enriching digital content including films, children's series and a wide selection of documentaries. The National Film Board of Canada, which has over 4,000 films, documentaries and short pieces available to stream for free — including a rich library of Indigenous content.  And for those of you missing professional sports, MLB is streaming an array of classic games on its various social media platforms today for free. Read the full article https://www.cbc.ca/news/entertainment/free-family-streaming-covid-19-stay-at-home-1.5509556 Send us your questions Still looking for more information on the outbreak? Read more about COVID-19's impact on life in Canada, or reach out to us at covid@cbc.ca. If you have symptoms of the illness caused by the coronavirus, here's what to do in your part of the country. For full coverage of how your province or territory is responding to COVID-19, visit your local CBC News site. To get this newsletter daily as an email, subscribe here. Click below to watch CBC News Network live CBC News Network showcases the best of CBC journalism, covering breaking stories with speed, and adding context and meaning along the way. CBC News Network is also the destination for original journalism, with added depth from CBC News bureaus across the country and around the world. 0:00
#&gt;  6:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          The continued existence of wildlife markets, which are considered potential breeding grounds for the spread of harmful viruses, means it's just a matter of time before the world is hit with another deadly pandemic, some scientists suggest. &quot;&quot;&quot;&quot;If we do not deal with this, there is nothing to say that we could not in eighteen months' time have another outbreak, and it could be worse,&quot;&quot;&quot;&quot; said Kerry Bowman, an assistant professor and bioethicist at the University of Toronto's Dalla Lana School of Public Health. Scientists believe the novel coronavirus that causes the disease COVID-19 emerged from one of these wildlife markets — also known as &quot;&quot;&quot;&quot;wet markets&quot;&quot;&quot;&quot; — in the Chinese city of Wuhan, possibly through an infected bat. Bats are just one of the animals that are sold at these markets, where customers come to purchase domestic livestock and wildlife, including pigs, chickens, civet cats, bamboo rats, porcupines and pangolins. But Bowman said shutting down such markets may prove extremely challenging, as these cultural practices date back thousands of years and have become part of a multi-billion-dollar global industry. Experts call for global ban on live animal markets, wildlife trade amidst coronavirus outbreakWhy tracing the animal source of coronavirus matters Spillover event Bowman said the main concern with these markets is a spillover event, when viruses transfer from one species to another and then cross over to humans. On very rare occasions, humans will transmit that virus from one person to another, which is what occurred with Severe Acute Respiratory Syndrome (SARS) and, by all indications, is happening with COVID-19. WATCH | An explainer on where the coronavirus came from It started with animal to human transmission. But the novel coronavirus is now spreading between people. 0:25 &quot;&quot;&quot;&quot;Mathematically, this is not a common occurrence. But if you actually wanted to create a laboratory-like experiment to design the conditions for a spillover event, you would create the kind of wildlife market that you have in China,&quot;&quot;&quot;&quot; Bowman said. In a recent video message about COVID-19, famed primatologist Jane Goodall warned that the close relationship between people and wild animals in these markets &quot;&quot;&quot;&quot;has unleashed the terror and misery of new viruses.&quot;&quot;&quot;&quot; SARS may have spread to humans through wild mammals. The Ebola epidemics in west and central Africa are thought to have originated from bats, while Middle East Respiratory Syndrome (MERS) is suspected to have come from camels. All of these infected animals were in wildlife markets, where every day millions of people around the world still get their food. Not just in China Bowman emphasized that China is not the only culprit, nor is Asia &quot;&quot;&quot;&quot;the only continent in the world that has this challenge.&quot;&quot;&quot;&quot; &quot;&quot;&quot;&quot;But it's particularly tenacious in the Far East, and extends into Vietnam, a lot of Southeast Asia, Indonesia,&quot;&quot;&quot;&quot; he said. Civet cats wait for food at a farm in Liuan, China.  (China Photos/Getty Images) In February, China announced a ban on the trade and consumption of wild animals. But it also imposed tough restrictions following the SARS outbreak in 2003, only to see the industry slowly re-emerge. Many environmentalists say such bans contain loopholes. The selling of wild animals accounts for &quot;&quot;&quot;&quot;a significant portion of the economy. And it has created an economic opportunity for a lot of people,&quot;&quot;&quot;&quot; Bowman said. There are different estimates, but Bowman said the size of the global wildlife trade is pegged at somewhere between $7 billion to $23 billion US a year. Animals in unsanitary conditions Bowman, who conducts research on this issue, said when he last visited a market in Wuhan, he counted 57 species of animals, about two-thirds of them wild, mostly of Asian origin. Cages were stacked on top of each other, in unsanitary conditions. He said operators had &quot;&quot;&quot;&quot;high-powered hoses that are blasting around urine, feces, blood from one cage to another to another to another.&quot;&quot;&quot;&quot; In terms of the general concepts of infectious diseases, wildlife markets are &quot;&quot;&quot;&quot;a perfect opportunity for the mixing of bacteria and viruses as well as transmission to other groups,&quot;&quot;&quot;&quot; said Jason Stull, assistant professor at the University of Prince Edward Island's Atlantic Veterinary College. Not only that, but stress and malnutrition reduce the immune system of animals and potentially exacerbate this problem, Stull said. For example, an animal under duress may be more likely to shed higher amounts of virus. &quot;&quot;&quot;&quot;All of these things likely can contribute to movement back and forth of diseases,&quot;&quot;&quot;&quot; Stull said. Many infectious diseases linked to wildlife According to the EcoHealth Alliance, a New York-based organization that conducts scientific research into emerging infectious diseases, about three-fourths of all such diseases are somehow linked to wildlife. William Karesh, executive vice president for health and policy at the EcoHealth Alliance, said the current coronavirus outbreak was likely spread in two possible ways. It could have been a wild animal being sold in the market that contaminated the market. It's also possible that a vendor in the market was infected somewhere else and then infected their customers. The animals that end up in the market are coming from two places — hunted in the wild or bred on farms. WATCH | How bats likely spread the novel coronavirus  Bowman said there are deep cultural roots with this industry — thousands of years of tradition of eating wild animals. As well, the animals are used for traditional Chinese medicine, luxury goods and the pet trade. &quot;&quot;&quot;&quot;What's really changed is that this has gone from occasional domestic use with emerging populations in combination with the burgeoning wealth to a massive commercial enterprise,&quot;&quot;&quot;&quot; Bowman said. Focus should be on education Karesh said ending these practices will take time, likely generations, and can only be done through education and helping countries improve their food systems. He suggested that instead of banning all wildlife trade, countries should focus on those animals that are more likely to have viruses that can be transmitted to humans — like rodents, bats and non-human primates. He said the international community must come to grips with the growing and unsustainable use of wildlife, or we will &quot;&quot;&quot;&quot;continue to see pandemics.&quot;&quot;&quot;&quot; &quot;&quot;&quot;&quot;There are three to five emerging diseases every year, and only by luck and the grace of God ... they don't turn into pandemics each time.&quot;&quot;&quot;&quot;
#&gt;  7: Recent developments:  Two new cases in western Quebec; Ontario has not released locations of new cases. Federal government covering 75 per cent of staff wages for small businesses. Brockville now has COVID-19 testing at the Memorial Centre. NCC closes vehicle access to Greenbelt.  What you should know Ottawa hospitals are preparing for a surge in COVID-19 patients as the number of people infected with the coronavirus rises each day. The Ottawa Hospital is doubling its number of intensive care beds and seeking donations of masks and other personal protective equipment at coviddonations@toh.ca.  Doctors, nurses and cleaning staff in Ottawa are already starting to ration disposable masks to conserve the current supply.  The Montfort and Queensway Carleton hospitals are preparing to open up urgent care centres for COVID-19 patients.  LISTEN: Critical care clinics 'ready to be opened' if needed   Dr. Andrew Willmore, medical director of emergency management at the Ottawa Hospital, says there are several care centres standing by in case of a rise in COVID-19 cases. 0:49 Public health officials say there's still time to slow the spread of COVID-19 if residents keep up physical distancing or self-isolation orders and recommendations, if required.  Physical distancing means avoiding non-essential trips out, working from home and cancelling gatherings, even with friends or extended family. Ottawa Public Health advises residents to only be with members of their own household and stay at least two metres away from everyone else. LISTEN: 'Too soon to say' how social distancing is affecting COVID-19 spread In a news conference conducted by telephone, Vera Etches, Ottawa’s chief medical officer of health, says a delay in getting test results and the continuing return of travellers from abroad make it too early to say how social distancing measures are affecting the spread of COVID-19. 0:42 Public health officials are also urging anyone who's had close contact with someone who has travelled outside the country to self-solate for 14 days. That means staying home for two weeks and asking relatives, friends or neighbours to deliver groceries, medication and other supplies. All deliveries should be left at the door to maintain a two-metre distance. People who feel sick should also self-isolate for 14 days or until 24 hours after their symptoms are gone, whichever is longer. Travellers who return to Canada must now enter a mandatory 14-day period of self-isolation or face a fine of up to $750,000, or as much as six months in jail, unless they're an essential worker. Many municipalities have declared states of emergency.  Ottawa mayor declares state of emergency Eastern Ontario leaders declare states of emergency  In Ottawa this allows the city to buy needed equipment and supplies without the usual procurement process, including personal protective equipment, food for the vulnerable and hotel rooms for emergency workers. Ontario and Quebec have ordered all non-essential businesses to close. The Champlain Bridge between Ottawa and Gatineau on March 24, 2020. Mayors of both cities have asked people not to cross the border unless it's necessary. (Francis Ferland/CBC) Ontario Provincial Police said Friday officers will fine individuals or businesses that break the physical distancing rules. Police in Quebec are also enforcing a ban on gatherings of more than two people.  WATCH: Here's how some provinces are discouraging social gatherings The provinces have opened up non-compliance hotlines or websites for the public to report people who are not following social distancing or isolation rules. 1:56 Sports venues such as fields and courts are closed to discourage gatherings. Park spaces remain open but playgrounds are closed.  Quebec schools are closed until at least May, while Ontario has launched an e-learning program while its schools remain closed, likely past the initial date of April 6. WATCH: CBC Ottawa's Local Daily for Thursday, March 26 Lucy van Oldenbarneveld, Adrian Harewood and Omar Dabaghi-Pacheco bring you the latest on the COVID-19 pandemic in Ottawa. 13:08 Public transit authorities are scaling back service because ridership has dropped substantially.  Ottawa residents needing information can still call 311, and all essential services such as garbage and recycling collection, as well as some bylaw services, will continue.  Service Canada is closing its centres to in-person visits as of Friday, March 27, focusing on telephone and online work. Spread of COVID-19 in Ottawa Ontario's Ministry of Health says 32 people have now tested positive for COVID-19 in Ottawa. Their Friday morning update did not include a local breakdown.  Health Canada worker tests positive for COVID-19 Senators announce 2nd player dealing with coronavirus  Ottawa Public Health says it is investigating 75 confirmed cases in the city, a total which includes cases that have tested positive once but have yet to be validated by a second test.  The city saw its first COVID-19-related death on March 25, a man in his 90s with no travel history.  WATCH: Doctors answer your questions about the coronavirus Doctors answer your questions about the coronavirus in Canada, including whether it’s necessary to change clothes after work. 5:05 Ottawa's medical officer of health has said last weekend computer models suggest hundreds and hundreds of people in Ottawa have COVID-19, many without knowing it. Vera Etches said the virus could infect 4,000 people a day at its peak if physical distancing and self-isolation recommendations aren't respected. Ontario has 993 confirmed cases of COVID-19. Quebec has 2,021 presumptive and confirmed cases. Fifty-three deaths in Canada have been linked to COVID-19, including 18 each in Ontario and Quebec.   What are the symptoms of COVID-19? Symptoms of COVID-19 range from a very mild, cold-like illness to a severe lung infection. The most common symptoms include fever, fatigue and a dry cough. They may take up to 14 days to appear, which is why that's the period of self-isolation. Older people, those with compromised immune systems and those with underlying medical problems such as high blood pressure, heart problems or diabetes are more likely to develop serious illness. WATCH: Here's how Canadians are helping each other through the pandemic How Canadians across the country are helping each other through the COVID-19 pandemic. 3:04 The coronavirus primarily spreads through droplets when an infected person coughs or sneezes. The virus can also spread through close, prolonged contact, such as touching or handshaking, and via surfaces such as door handles, mobile phones, tables and light switches if they touch their eyes, nose or mouth before washing their hands. When to get tested Anyone in Ottawa who has a new or worsening cough or fever and has travelled outside Canada, or has been in contact with a confirmed case, should go to the COVID-19 screening centre at the Brewer Arena. The centre is open from 9 a.m. to 8 p.m. daily at 151 Brewer Way, off Bronson Avenue near Carleton University. You don't have to call ahead.  If you meet some of the criteria but don't have symptoms, you won't be tested and should self-isolate for 14 days. If you have severe symptoms, call 911. WATCH: Ottawa homeless shelters trying to prevent the spread of COVID-19 Wendy Muckle, executive director of Ottawa Inner City Health, says shelters are taking as many precautions as possible to limit the spread of COVID-19, but with so many shelters near or at capacity, social distancing is still a challenge. 0:57 In western Quebec: Gatineau's downtown assessment location is at 135 blvd. Saint-Raymond. Outaouais resident should call the regional help line at 819-644-4545 if they have a cough or fever, whether they've travelled or not. If your symptoms require a trip to the emergency room, call ahead if your condition allows to let them know your travel history.  Kingston, Ont. The assessment centre in Kingston is now at the Kingston Memorial Centre at 303 York St. It is open 10 a.m. to 8 p.m. If you develop mild to moderate symptoms after travelling, either contact your health-care provider or go to the test site. Kingston's public health unit says to check its website for information, and call Telehealth at 1-866-797-0000 with any remaining questions. Other communities The public health unit in the Belleville, Ont., area is asking people only call it at 613-966-5500 if they've checked the website and still have questions. The same advice goes for Leeds, Grenville and Lanark's unit at 1-800-660-5853 extension 2499. It opened a testing site by referral only at the Brockville Memorial Centre at 100 Magedoma Blvd. that's open 11 a.m. to 6 p.m. daily. Referrals can come from a family doctor or the public health unit and will only be given to the sick and people who have left the country or been in close contact with a suspected or confirmed case. Hawkesbury, Ont., has an assessment centre at 750 Laurier St. open from 9 a.m. to 5 p.m. Monday to Friday.  Like Ottawa, only go there if you have new or worsening symptoms and have travelled or been in contact with a confirmed case. Go to CHEO if you're looking after an infant younger than six months old that fits this description. Self-isolate if you have mild symptoms, go to the hospital if your symptoms are severe. Only people older than age 70, who have chronic health problems or compromised immune systems can call 613-933-1375 from 8 a.m. to 8 p.m. to ask about a home visit from paramedics. WATCH: Violinist performs for grandmother quarantined in retirement home Viera Zmiyiwsky planned a surprise violin performance for her grandma who is quarantined in her retirement home, but she ended up with a bigger audience than expected. 1:56 Renfrew County is providing home testing under some circumstances. Its public health unit says people who have symptoms or have been in close contact with a confirmed case should use the province's self-assessment tool. Call Telehealth&lt;U+200B&gt;&lt;U+200B&gt;&lt;U+200B&gt;, their health care provider or it at 613-735-8654 if they still have more questions. Anyone who doesn't have or can't reach a family doctor can call its new primary care centre at 1-844-727-6404 if they have questions about their health. The province of Ontario generally advises people experiencing symptoms to call Telehealth or their health care provider. There has been a lag of four days or more to get Ontario's test results, with more being done per day than can be processed.  The province says it's doubling its testing capacity by the end of the week and nearly quadrupling that by mid-April. In the Outaouais, the local health agency is calling anyone whose tests take more than a week to get back to them. It said its goal is a result in 24 to 48 hours. First Nations communities The Mohawk communities of Akwesasne and Mohawks of the Bay of Quinte (MBQ) have declared a state of emergency to prepare for possible cases. Anyone in MBQ who has symptoms can call 613-967-3603 to talk to a nurse. A home test may be possible after that. In Akwesasne, community members are asked to carry their status cards when crossing the Canada-U.S. border for essential trips. The Algonquin communities of Kitigan Zibi and Pikwakanagan have scaled back non-essential services and are asking residents to follow public health advice. Pikwakanagan's election on Saturday, March 28 is going ahead, with members strongly encouraged to vote remotely. For more information, visit:  Ottawa Public Health, your local eastern Ontario health unit, the Ontario Ministry of Health (in several languages), including their self-assessment tool.  the Public Health Agency of Canada. the Centre intégré de santé et de services sociaux de l'Outaouais (in French). 
#&gt;  8:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Michigan hospitals are bracing for a surge of coronavirus cases as infections rise to at least 2,294. Deaths jumped to 43 from 24. Eighty-five per cent of all cases were reported in Wayne, Oakland and Macomb counties, but even the Upper Peninsula has a few. Beaumont Health and Henry Ford Health System in southeastern Michigan said they were caring for more than 1,000 patients at their 13 hospitals. Altus, a company near Grand Rapids, making hundreds of carts for hospital ventilators, which help desperate COVID-19 victims breathe. Altus is hiring more people and adding shifts. More from CBC News Windsor: Detroit-area hospital system 'almost at capacity,' says Michigan governorFront-line ER doctor says health-care workers are preparing for 'hordes of people' with COVID-19PhotosWindsor Islamic Association creates helpline to ensure seniors are fed
#&gt;  9:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  The number of confirmed COVID-19 cases in the U.S. rose to 83,836 on Thursday — more than any other country, overtaking both Italy and China — while the death toll passed the 1,000 mark, according to a running tally by Johns Hopkins University. The university said Thursday at least 1,209 people in the U.S. have died from the disease caused by the coronavirus. Meanwhile, hospitals and government authorities in New York, New Orleans and other hot spots grappled with a dire shortage of supplies, staff and sick beds. Medical facilities were running short of ventilators and protective masks, and were being hampered by limited testing capacity. The U.S. Centers for Disease Control and Prevention (CDC) reported an increase of 13,987 cases and 257 deaths in its most recent measuring period, between Tuesday and Wednesday at 4 p.m. ET. The increases in the previous 24-hour period were 144 deaths and about 11,000 new cases. To help businesses deal with the outbreak, the Trump administration has decided it will be easing back on environmental enforcement and compliance requirements, according to an Environmental Protection Agency memo. The decision follows requests by the energy industry and other sectors. AnalysisPoliticians who consider sacrificing the old for the sake of the economy face a backlash: Don PittisNo, the new coronavirus wasn't created in a lab, scientists say &quot;&quot;&quot;&quot;In general, the EPA does not expect to seek penalties for violations of routine compliance monitoring, integrity testing, sampling, laboratory analysis, training, and reporting or certification obligations in situations where the EPA agrees that COVID-19 was the cause,&quot;&quot;&quot;&quot; the EPA memo read. On the same day — seemingly responding to an unprecedented stimulus awaiting approval by the U.S. House of Representatives — Wall Street rallied for a third straight session. The S&amp;P 500 gained 154.51 points, or 6.24 per cent, and the Dow Jones rose 1,351.62 points, or 6.38 per cent. Those gains capped off the largest three-day percentage gains since 1931 and 1933 respectively, while the Dow's rise of more than 20 per cent since March 23 meets some analysts' definition of a bull market. New York as the U.S. epicentre More than one-third of COVID-19 fatalities in the United States have been in New York state, where Gov. Andrew Cuomo has warned hospitals could soon run out of beds and ventilators. In his daily news conference Thursday, Cuomo said that 385 have died in the state from the virus, an increase from the previous day of 100. He said the goal was to get to a hospital-bed capacity of 140,000, up from the current 53,000 available Authorities were scouting new sites to build temporary facilities, he said. Patients wear masks as they wait in line for a COVID-19 test at Elmhurst Hospital Center on Wednesday in New York City.   (John Minchillo/The Associated Press) &quot;&quot;&quot;&quot;The number of ventilators we need is so astronomical. It's not like they have them sitting in the warehouse … there is no stockpile available,&quot;&quot;&quot;&quot; Cuomo said. The federal government was sending &quot;&quot;&quot;&quot;everything we can&quot;&quot;&quot;&quot; to help New York, including ventilators, gloves and protective masks for use in hospitals, White House trade adviser Peter Navarro said. &quot;&quot;&quot;&quot;But we've also got an emerging problem in New Orleans. We got Detroit, we've got Chicago, Seattle, California, my home state. Like I said, there's planes in the air everywhere now,&quot;&quot;&quot;&quot; Navarro added. THE LATESTCoronavirus: What's happening in Canada and around the world on March 26Canada 'strongly opposed' to U.S. stationing troops near shared border Dr. Anthony Fauci, head of National Institute of Allergy and Infectious Diseases, called the acceleration of cases in New York &quot;&quot;&quot;&quot;quite disturbing.&quot;&quot;&quot;&quot; He also warned that the virus could return for the next northern winter. &quot;&quot;&quot;&quot;We hope we get a respite as we get into April, May and June. It is likely to come around next season because it's a very vigorous virus,&quot;&quot;&quot;&quot; Fauci told WNYC public radio during an interview in New York on Thursday. New York's neighbour is also dealing with a surge in cases. New Jersey Gov. Phil Murphy said cases there had increased by nearly 2,500 from the previous day, with the death toll spiking from 19 to 81. Rural Georgia, Louisiana dealing with spikes The rampant infections in New York City have dominated much of the national conversation about the disease. But far from the coasts, smaller communities are also preparing for things to get worse, as they have in Albany, Ga. The largest hospital in Georgia's mostly rural, southwest corner is rapidly running out of space amid the highest rate of coronavirus infection in the entire state. It was believed to have started when a person with the virus came into the region to attend a funeral. A view of Bourbon Street in New Orleans is shown on Wednesday amid the COVID-19 outbreak. (Jonathan Bachman/Reuters) &quot;&quot;&quot;&quot;I can't tell you how it's going to be Friday, much less in the week after,&quot;&quot;&quot;&quot; said Scott Steiner, CEO of the four-hospital health system that includes Phoebe Putney Memorial Hospital in Albany. At Phoebe Putney, intensive care beds are filled with COVID-19 patients and employees are hand-sewing masks to help stretch dwindling supplies. Roughly 90,000 people live in Albany and surrounding Dougherty County. The virus's impact has been outsized compared with the community's population. Infections countywide have surpassed 100, including seven deaths, making it Georgia's hardest-hit county outside metro Atlanta. In New Orleans, doctors and hospital officials are seeing an increased number of patients needing intensive care and are working to avoid the possible overwhelming of their systems. Louisiana officials are considering housing patients in hotels and a convention centre in the city. &quot;&quot;&quot;&quot;We are seeing an escalation in cases across our system,&quot;&quot;&quot;&quot; said Warner Thomas, chief executive at Ochsner Medical Center, Louisiana's largest hospital system. Underscoring the threat to health-care workers striving to cope with the pandemic, Thomas said 300 Ochsner employees were under quarantine, including 60 diagnosed with COVID-19. Fed chair is listening to pandemic experts Hospitals, laid-off workers and struggling companies will receive badly needed economic aid under the record-setting relief bill approved by the U.S. Senate late on Wednesday in a 96-0 vote. Democratic House Speaker Nancy Pelosi said she expects that her chamber will approve the bill in a strong bipartisan vote on Friday. President Donald Trump has said he would sign the bill into law. Americans should receive direct deposits for financial aid within three weeks as soon as the bill is signed into law, the U.S. Treasury Secretary Steven Mnuchin said on Thursday.   U.S. Senate passes $2T coronavirus relief packageU.S. jobless claims soared to record 3.2M last week as COVID-19 crisis took hold Jobless claims soared to a record 3.3 million on Thursday, nearly five times the previous weekly record of 695,000 from the recession of 1982. The report may understate the problem as the official statistics typically have not included the self-employed or independent contractors. Federal Reserve Chair Jerome Powell said the United States already &quot;&quot;&quot;&quot;may well be in recession.&quot;&quot;&quot;&quot; Powell warned that reactivating the economy would have to wait until the virus was under control, despite Trump's stated desire to resume economic activity by Easter, April 12. &quot;&quot;&quot;&quot;The first order of business will be to get the spread of the virus under control and then resume economic activity,&quot;&quot;&quot;&quot; Powell told NBC's Today Show. Danni Askini had to fight tooth and nail just to get tested for the coronavirus. Now she's fighting to cover the cost of her treatment. 7:32 Powell said he expects economic activity &quot;&quot;&quot;&quot;to resume and move back up in the second half of the year,&quot;&quot;&quot;&quot; but that the board was paying attention to the warnings of experts like Fauci.  Most confirmed U.S. military cases are domestic The U.S. military, meanwhile, has decided it will stop providing some of the more granular data about coronavirus infections within its ranks. U.S. Defence Secretary Mark Esper said he wanted some of the more mission-specific information to be withheld to prevent compromising operational security. &quot;&quot;&quot;&quot;I'm not going to get into a habit where we start providing numbers across all the commands and we come to a point six, seven weeks from now where we have some concerns in some locations and reveal information that could put people at risk,&quot;&quot;&quot;&quot; said Esper. Officials told Reuters there are more domestic cases than among forces overseas. About 85 per cent of confirmed coronavirus cases in the air force were of personnel in the U.S., while the navy said roughly 90 per cent of its cases were located domestically. Esper noted that commanders overseas have greater ability to impose restrictions on the movement of troops and their families.
#&gt; 10:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         The Jewish General Hospital plans to set up trailers outside its main building, where people with minor COVID-19 symptoms can seek medical attention. Unlike the drive-thru testing clinic going up in the parking lot of the Cavendish Mall in Côte Saint-Luc this weekend, the trailers will be more medically oriented, said Francine Dupuis, the associate CEO of the CIUSSS Central West.West-Central Montreal, the health agency that oversees the hospital. After evaluating the patient, doctors will determine if that person is well enough to be sent home to wait until the symptoms disappear, or whether they should be sent to a clinic or to the emergency ward. &quot;&quot;&quot;&quot;We really want people to avoid the emergency,&quot;&quot;&quot;&quot; said Dupuis. &quot;&quot;&quot;&quot;It's the last place to go.&quot;&quot;&quot;&quot; &quot;&quot;&quot;&quot;Those who go there should be sent there because a doctor has determined that their symptoms were acute enough.&quot;&quot;&quot;&quot; On the front lines: What life is like for a nurse at Montreal's pop-up COVID-19 testing site As soon as the trailers are set up, within the next week or so, an infection control specialist will figure out how to make them safe to ensure patients don't contaminate one another, she said. &quot;&quot;&quot;&quot;We are looking for doctors in the community to staff these trailers,&quot;&quot;&quot;&quot; she said. Dupuis said anyone who has mild symptoms could be evaluated there. Spreading out COVID-19 patients Senior administrator Francine Dupuis says the aim of setting up trailers outside the Jewish General Hospital is to keep COVID-positive patients out of the emergency ward. 'Those who go there should be sent there because a doctor has determined that their symptoms were acute enough,' Dupuis said. (CIUSSS West-Central Montreal) At the beginning of the crisis, the Jewish General Hospital was designated as the main COVID-19 treatment centre in Montreal for acutely ill adult patients. But as the number of positive cases rises, the province has designated more hospitals in the Montreal region to spread out the load. &quot;&quot;&quot;&quot;It's better to share with other hospitals, because if the other hospital has a fair number of ICU beds, it allows us to continue giving services to other sick people,&quot;&quot;&quot;&quot; said Dupuis. &quot;&quot;&quot;&quot;It's a balance.&quot;&quot;&quot;&quot; As of Thursday night, Dupuis said the Jewish General had 37 COVID-19 positive patients, with 14 of those in the intensive care unit. &quot;&quot;&quot;&quot;But it changes every hour,&quot;&quot;&quot;&quot; she warned.&quot;&quot;&quot;&quot;So it's very dangerous to give the numbers because the very next hour may be different.&quot;&quot;&quot;&quot; Nurses treating COVID-19 patients say they urgently need protective gear For acutely ill, recovery is slow Recovery is a slow process, but Dupuis confirmed some patients in ICU have improved enough to be moved to a unit for less acutely ill patients or have gone home. But with so much still unknown about the virus, Dupuis said, those patients are being closely monitored. &quot;&quot;&quot;&quot;It's not clear how long we have to monitor them before they are completely out of [danger],&quot;&quot;&quot;&quot; said Dupuis. She said health care teams here have looked at the Hong Kong experience, where in some cases, patients started doing better, and hospitals &quot;&quot;&quot;&quot;stopped being very conservative in terms of monitoring, and the contagion started going up again.&quot;&quot;&quot;&quot; Dupuis said she believes a careful, cautious approach — including the social isolation provisions Quebec now has in place — will keep the number of deaths low in Quebec compared to what some European countries are witnessing. Staffing levels remain good at the hospital, Dupuis said. Nurses who are acute care specialists are where they should be, leaving other nurses to cover less critically ill patients. &quot;&quot;&quot;&quot;We've also had a large number of nurses, more recently retired, who decided to come back and help us,&quot;&quot;&quot;&quot; said Dupuis. The cancellation of elective surgeries has also freed up some doctors who can help cover off other areas of the hospital. Dupuis said the Jewish General still has room to treat COVID-19 patients and considers the situation under control and manageable. &quot;&quot;&quot;&quot;Our staff is very well-trained, and it's quite under control,&quot;&quot;&quot;&quot; said Dupuis.
#&gt;                                                                                                                      url
#&gt;  1:                                                        https://www.cbc.ca/news/health/covid-19-drug-supply-1.5511659
#&gt;  2:                             https://www.cbc.ca/news/canada/north/yukon-coronavirus-exposure-bethany-church-1.5511906
#&gt;  3:                                               https://www.cbc.ca/news/world/senate-coronavirus-relief-bill-1.5510475
#&gt;  4:                               https://www.cbc.ca/news/health/coronavirus-treatment-and-vaccine-development-1.5511346
#&gt;  5:                                https://www.cbc.ca/news/the-latest-on-the-coronavirus-outbreak-for-march-26-1.5511398
#&gt;  6:                                  https://www.cbc.ca/news/world/wildlife-markets-china-coronavirus-pandemic-1.5510045
#&gt;  7:             https://www.cbc.ca/news/canada/ottawa/covid19-coronavirus-ottawa-symptoms-information-march-27-1.5511735
#&gt;  8:                                      https://www.cbc.ca/news/canada/windsor/michigan-hospitals-coronavirus-1.5510518
#&gt;  9:                                                      https://www.cbc.ca/news/world/us-coronavirus-thursday-1.5510581
#&gt; 10: https://www.cbc.ca/news/canada/montreal/jewish-general-hospital-to-set-up-trailers-for-covid-19-evaluation-1.5511901
</code></pre><p>Based on the title of the sample news, some article reported about the virus spread and transmission while some others talk about what the government does in response to the COVID-19. We will explore it further using the topic modelling.</p>
<h3 id="text-cleansing">Text Cleansing</h3>
<p>We will clean the text first before proceed further. The text cleansing process includes:</p>
<ul>
<li>lowercase all text</li>
<li>remove html tag</li>
<li>lengthen shortened words (don&rsquo;t, I&rsquo;ll)</li>
<li>replace all <code>-</code> with white space</li>
<li>remove the common word of <code>coronavirus</code>, <code>covid 19</code>, and <code>covid</code></li>
<li>remove all punctuation</li>
<li>replace all numeric character into words</li>
<li>remove double white space</li>
<li>remove white space at the start and the end of text</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">covid_clean <span style="color:#f92672">&lt;-</span> covid_news <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate</span>(text_clean <span style="color:#f92672">=</span> text <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">replace_non_ascii</span>() <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">replace_html</span>(symbol <span style="color:#f92672">=</span> F) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># remove html tag</span>
             <span style="color:#a6e22e">str_replace_all</span>(<span style="color:#e6db74">&#34;[0-9]&#34;</span>, <span style="color:#e6db74">&#34; &#34;</span>) <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">str_replace_all</span>(<span style="color:#e6db74">&#34;[-|]&#34;</span>, <span style="color:#e6db74">&#34; &#34;</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># replace &#34;-&#34; with space</span>
             <span style="color:#a6e22e">tolower</span>() <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e">#lowercase</span>
             <span style="color:#a6e22e">str_remove_all</span>(<span style="color:#e6db74">&#34;coronavirus|covid 19|covid|canadian|canadians&#34;</span>) <span style="color:#f92672">%&gt;%</span>  <span style="color:#75715e"># remove common words</span>
             <span style="color:#a6e22e">replace_symbol</span>() <span style="color:#f92672">%&gt;%</span>
             <span style="color:#a6e22e">replace_contraction</span>() <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">replace_word_elongation</span>() <span style="color:#f92672">%&gt;%</span>  <span style="color:#75715e"># lengthen shortened word</span>
             <span style="color:#a6e22e">str_replace_all</span>(<span style="color:#e6db74">&#34;[[:punct:]]&#34;</span>, <span style="color:#e6db74">&#34; &#34;</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># remove punctuation</span>
             <span style="color:#a6e22e">str_replace_all</span>(<span style="color:#e6db74">&#34; dr &#34;</span>, <span style="color:#e6db74">&#34; doctor &#34;</span>) <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">make_plural</span>() <span style="color:#f92672">%&gt;%</span>
             <span style="color:#a6e22e">str_replace_all</span>(<span style="color:#e6db74">&#34; s &#34;</span>, <span style="color:#e6db74">&#34; &#34;</span>) <span style="color:#f92672">%&gt;%</span>  
             <span style="color:#a6e22e">str_squish</span>() <span style="color:#f92672">%&gt;%</span> <span style="color:#75715e"># remove double whitespace</span>
             <span style="color:#a6e22e">str_trim</span>() <span style="color:#75715e"># remove whitespace at the start and end of the text</span>
          )
</code></pre></div><p>Let&rsquo;s see the remaining number of words on each document in our corpus.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">document_length <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sapply</span>(<span style="color:#a6e22e">strsplit</span>(covid_clean<span style="color:#f92672">$</span>text, <span style="color:#e6db74">&#34; &#34;</span>), length)

document_length <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">summary</span>()
</code></pre></div><pre><code>#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
#&gt;    14.0   431.0   632.0   713.1   896.0  5100.0
</code></pre><p>The shortest document has 14 words while the longest has 5100 words. LDA will works better if the text input has a lot of words inside the sentence. We will filter document that has at least consists of 100 words.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">covid_clean <span style="color:#f92672">&lt;-</span> covid_clean <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">slice</span>(<span style="color:#a6e22e">which</span>(document_length <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">100</span>))

<span style="color:#a6e22e">dim</span>(covid_clean)
</code></pre></div><pre><code>#&gt; [1] 2710    8
</code></pre><p>We have 2,710 number of documents remanining.</p>
<h3 id="document-term-matrix">Document-Term Matrix</h3>
<p>The next step is to tokenize the text and create a Document-Term Matrix (DTM) from our text data. We will also remove any stop words such as <code>the</code> or <code>is</code> since they are irrelevant for this problem. We will also do stem words into their basic form, such as from <code>walking</code> into <code>walk</code>. To get better stemming, we also change all <code>positive</code> terms into <code>positives</code>. The stemming function is created manually by with <code>hunspell</code><sup id="fnref:7"><a href="#fn:7" class="footnote-ref" role="doc-noteref">7</a></sup> stemming at its core. <code>hunspell</code> stemming give better result compared to the basic stemming algorithm such as Porter stemming algorithm<sup id="fnref:8"><a href="#fn:8" class="footnote-ref" role="doc-noteref">8</a></sup>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">stem_hunspell <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(term) {
    <span style="color:#75715e"># look up the term in the dictionary</span>
    stems <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">hunspell_stem</span>(term)[[1]]
    
    <span style="color:#a6e22e">if </span>(<span style="color:#a6e22e">length</span>(stems) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) { <span style="color:#75715e"># if there are no stems, use the original term</span>
        stem <span style="color:#f92672">&lt;-</span> term
    } else { <span style="color:#75715e"># if there are multiple stems, use the last one</span>
        stem <span style="color:#f92672">&lt;-</span> stems[<span style="color:#a6e22e">[length</span>(stems)]]
    }
    <span style="color:#a6e22e">return</span>(stem)
}

news_term <span style="color:#f92672">&lt;-</span> covid_clean <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">unnest_tokens</span>(output <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;word&#34;</span>, input <span style="color:#f92672">=</span> text_clean) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">anti_join</span>(stop_words)  <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate</span>(word <span style="color:#f92672">=</span> <span style="color:#a6e22e">ifelse</span>(word <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;positive&#34;</span>, <span style="color:#e6db74">&#34;positives&#34;</span>, word),
          word <span style="color:#f92672">=</span> <span style="color:#a6e22e">text_tokens</span>(word, stemmer <span style="color:#f92672">=</span> stem_hunspell) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">as.character</span>() ) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">drop_na</span>(word) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">count</span>(V1, word)
</code></pre></div><p>Next, we will transform the data into document-term matrix (DTM). The value inside the matrix represent the <code>term frequency</code> or the number of terms appear inside each document.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">dtm_news <span style="color:#f92672">&lt;-</span> news_term <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">cast_dtm</span>(document <span style="color:#f92672">=</span> V1, term <span style="color:#f92672">=</span> word, value <span style="color:#f92672">=</span> n)

<span style="color:#a6e22e">inspect</span>(dtm_news)
</code></pre></div><pre><code>#&gt; &lt;&lt;DocumentTermMatrix (documents: 2710, terms: 25191)&gt;&gt;
#&gt; Non-/sparse entries: 511876/67755734
#&gt; Sparsity           : 99%
#&gt; Maximal term length: 29
#&gt; Weighting          : term frequency (tf)
#&gt; Sample             :
#&gt;      Terms
#&gt; Docs  canada day govern heal home people province public test virus
#&gt;   106     27  22     13   26   10     33       26      5   20    13
#&gt;   141     18  12      9   28    4     26       21     16   19    16
#&gt;   172     23  14     10   25   14     20       18     11   25    16
#&gt;   18       8   7      2   79   16     28       42     24   41    14
#&gt;   197     15  11      7   23   16     24       15     17   16    15
#&gt;   212     16  13     10   23   13     36       21      8   26    12
#&gt;   305     25  17     15   23   14     20       13     16    2     7
#&gt;   35      12  19     12   25   12     35       15      8   11     8
#&gt;   49      18  11      9   27   20     34       14     11   15     5
#&gt;   56      19  21     10   27   19     22       17     10   22    10
</code></pre><p>We have 2,710 documents with total terms of more than 28,000 terms. We will remove rare word that occur only in less than 5 documents and also the common words that appear in more than 90% of all documents. This is intended to give us a collections of terms that is common enough and shared by several documents to indicate a shared topics/latent information but also unique enough that it is not shared by all documents.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">word_freq <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">findFreqTerms</span>(dtm_news, 
                           lowfreq <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>, 
                           highfreq <span style="color:#f92672">=</span> <span style="color:#a6e22e">nrow</span>(dtm_news)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.9</span>
                           )

dtm_news <span style="color:#f92672">&lt;-</span> dtm_news[ , word_freq]
dtm_news
</code></pre></div><pre><code>#&gt; &lt;&lt;DocumentTermMatrix (documents: 2710, terms: 9138)&gt;&gt;
#&gt; Non-/sparse entries: 442433/24321547
#&gt; Sparsity           : 98%
#&gt; Maximal term length: 19
#&gt; Weighting          : term frequency (tf)
</code></pre><p>The number of terms drastically drop from 29,000 to around 9,000 terms. We will use this data to train the LDA model.</p>
<h3 id="topic-modelling-with-lda">Topic Modelling with LDA</h3>
<p>We will create an LDA model with <code>k = 3</code> topics. The choice of number of topics is arbitrary, but we will show you how to find the optimal number of topics later. We will use Gibbs-sampling to estimate the parameter using 5000 iterations of sampling and 4000 burn-in iterations. The burn-in iteration means that we only collecting samples starting from iteration of 4000, since the earlier iteration is still unstable and may not reflect the actual distribution of the data.</p>
<p>Since the computation is quite long (around 30-60 minutes), I have prepared the pre-trained model in the next chunk.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">dtm_lda <span style="color:#f92672">&lt;-</span> Matrix<span style="color:#f92672">::</span><span style="color:#a6e22e">Matrix</span>(<span style="color:#a6e22e">as.matrix</span>(dtm_news), sparse <span style="color:#f92672">=</span> T)

<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)
lda_news <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">FitLdaModel</span>(dtm <span style="color:#f92672">=</span> dtm_lda, 
                        k <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, 
                        iterations <span style="color:#f92672">=</span> <span style="color:#ae81ff">5000</span>,
                        burnin <span style="color:#f92672">=</span> <span style="color:#ae81ff">4000</span>, 
                        calc_coherence <span style="color:#f92672">=</span> T
                        )
</code></pre></div><p>The details about the parameter of <code>FitLdaModel()</code> function is as follows:</p>
<ul>
<li>dtm = input data, must be in the form of document-term matrix (dtm)</li>
<li>k = number of topics</li>
<li>iterations = maximum number of iterations</li>
</ul>
<pre><code>#&gt; List of 9
#&gt;  $ phi           : num [1:3, 1:9138] 0.000000166 0.000000256 0.000020914 0.001365947 0.001274729 ...
#&gt;   ..- attr(*, &quot;dimnames&quot;)=List of 2
#&gt;   .. ..$ : chr [1:3] &quot;t_1&quot; &quot;t_2&quot; &quot;t_3&quot;
#&gt;   .. ..$ : chr [1:9138] &quot;acetaminophen&quot; &quot;act&quot; &quot;actual&quot; &quot;america&quot; ...
#&gt;  $ theta         : num [1:2710, 1:3] 0.547362 0.997833 0.000236 0.043015 0.456297 ...
#&gt;   ..- attr(*, &quot;dimnames&quot;)=List of 2
#&gt;   .. ..$ : chr [1:2710] &quot;0&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; ...
#&gt;   .. ..$ : chr [1:3] &quot;t_1&quot; &quot;t_2&quot; &quot;t_3&quot;
#&gt;  $ gamma         : num [1:3, 1:9138] 0.012 0.0121 0.9759 0.5079 0.3081 ...
#&gt;   ..- attr(*, &quot;dimnames&quot;)=List of 2
#&gt;   .. ..$ : chr [1:3] &quot;t_1&quot; &quot;t_2&quot; &quot;t_3&quot;
#&gt;   .. ..$ : chr [1:9138] &quot;acetaminophen&quot; &quot;act&quot; &quot;actual&quot; &quot;america&quot; ...
#&gt;  $ data          :Formal class 'dgCMatrix' [package &quot;Matrix&quot;] with 6 slots
#&gt;   .. ..@ i       : int [1:442433] 0 17 1311 0 2 4 12 17 18 19 ...
#&gt;   .. ..@ p       : int [1:9139] 0 3 531 570 725 929 943 1337 1479 1502 ...
#&gt;   .. ..@ Dim     : int [1:2] 2710 9138
#&gt;   .. ..@ Dimnames:List of 2
#&gt;   .. ..@ x       : num [1:442433] 1 1 3 4 1 3 12 7 1 3 ...
#&gt;   .. ..@ factors : list()
#&gt;  $ alpha         : Named num [1:3] 0.1 0.1 0.1
#&gt;   ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;t_1&quot; &quot;t_2&quot; &quot;t_3&quot;
#&gt;  $ beta          : Named num [1:9138] 0.05 0.05 0.05 0.05 0.05 0.05 0.05 0.05 0.05 0.05 ...
#&gt;   ..- attr(*, &quot;names&quot;)= chr [1:9138] &quot;acetaminophen&quot; &quot;act&quot; &quot;actual&quot; &quot;america&quot; ...
#&gt;  $ log_likelihood:'data.frame':	500 obs. of  2 variables:
#&gt;   ..$ iteration     : num [1:500] 0 10 20 30 40 50 60 70 80 90 ...
#&gt;   ..$ log_likelihood: num [1:500] -5815798 -5770673 -5741072 -5732850 -5729403 ...
#&gt;  $ coherence     : Named num [1:3] 0.108 0.11 0.144
#&gt;   ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;t_1&quot; &quot;t_2&quot; &quot;t_3&quot;
#&gt;  $ labels        : chr [1:3, 1:2] &quot;school&quot; &quot;dollar&quot; &quot;quarantine&quot; &quot;social&quot; ...
#&gt;   ..- attr(*, &quot;dimnames&quot;)=List of 2
#&gt;   .. ..$ : chr [1:3] &quot;t_1&quot; &quot;t_2&quot; &quot;t_3&quot;
#&gt;   .. ..$ : chr [1:2] &quot;label_1&quot; &quot;label_2&quot;
#&gt;  - attr(*, &quot;class&quot;)= chr &quot;lda_topic_model&quot;
</code></pre><p>Below are some important attribute acquired from the LDA Model:</p>
<ul>
<li><strong>phi</strong> : Posterior per-topic-per-word probabilities</li>
<li><strong>theta</strong> : Posterior per-document-per-topic probabilities</li>
<li><strong>alpha</strong> : Prior per-document-per-topic probabilities</li>
<li><strong>beta</strong> : Prior per-document-per-topic probabilities</li>
<li><strong>coherence</strong> : The probabilistic coherence of each topic</li>
</ul>
<p>If a term has a high value of theta, it has a high probability of that term being generated from that topic. This also indicates that the term has a high association toward a certain topic.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">lda_news<span style="color:#f92672">$</span>theta <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">head</span>() <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">as.data.frame</span>() <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">set_names</span>(<span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#34;Topic&#34;</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rownames_to_column</span>(<span style="color:#e6db74">&#34;document&#34;</span>)  
</code></pre></div><pre><code>#&gt;   document      Topic 1     Topic 2     Topic 3
#&gt; 1        0 0.5473617292 0.134138589 0.318499682
#&gt; 2        1 0.9978331528 0.001083424 0.001083424
#&gt; 3        2 0.0002356823 0.942964883 0.056799434
#&gt; 4        3 0.0430145752 0.107003199 0.849982225
#&gt; 5        4 0.4562965655 0.249136834 0.294566600
#&gt; 6        5 0.0441518203 0.315259489 0.640588691
</code></pre><p>Remember that LDA assumes that a topic is a mixture of words. The posterior probability for per-topic-per-word assignment is represented by the <em>phi</em> value. The sum of all phi for a topic is 1.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">lda_news<span style="color:#f92672">$</span>phi <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rowSums</span>()
</code></pre></div><pre><code>#&gt; t_1 t_2 t_3 
#&gt;   1   1   1
</code></pre><p>To get the top terms for each topic, we can use the <code>GetTopTerms</code> function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">GetTopTerms</span>(lda_news<span style="color:#f92672">$</span>phi, <span style="color:#ae81ff">10</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">as.data.frame</span>()
</code></pre></div><pre><code>#&gt;         t_1      t_2        t_3
#&gt; 1    school   dollar       port
#&gt; 2    social     cent quarantine
#&gt; 3  distance minister     flight
#&gt; 4     staff  company       ease
#&gt; 5    office   market      wuhan
#&gt; 6   student  support       ship
#&gt; 7      stay  federal  passenger
#&gt; 8      hand    price     cruise
#&gt; 9    centre     busy    patient
#&gt; 10  medical business      world
</code></pre><h3 id="exploration">Exploration</h3>
<p>As we have stated earlier, LDA merely give us the hidden/latent structure inside the corpus of our documents. It is our job as the user to interpret the latent information and assign labels for each generated topic.</p>
<h4 id="word-topic-probabilities">Word-Topic Probabilities</h4>
<p>Below is the top words for each topic. LDA doesn&rsquo;t specifically inform us about what each topic is about. By looking at the representative words of each topic, we as the human will give meaning to each topic. The top terms in the first topic seems to tells us about the impact of the virus outbreak, as indicated by the word <code>school</code>, <code>social distance</code>, <code>store</code>, and <code>student</code>. The second topic talks about the politics and economy regarding the COVID-19, since we see the presence of words <code>cent</code>, <code>federal</code>, <code>minister</code>, and <code>company</code>. The third topic tell us about the spread and transmission of COVID-19, indicated by the word <code>patient</code>, <code>dr</code> (doctor), <code>quarantine</code>, and <code>flight</code>.</p>
<p>As we can see, by using LDA, even though we don&rsquo;t have the true labels or class, the model can generate association between words and topics by assigning probabilities. Using k = 3, we have 3 topics that can easily interpreted since they are quite different from each other.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">news_word_topic <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">GetTopTerms</span>(lda_news<span style="color:#f92672">$</span>phi, <span style="color:#ae81ff">30</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">as.data.frame</span>() <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">set_names</span>(<span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#34;Topic&#34;</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>))

news_word_topic
</code></pre></div><pre><code>#&gt;       Topic 1   Topic 2       Topic 3
#&gt; 1      school    dollar          port
#&gt; 2      social      cent    quarantine
#&gt; 3    distance  minister        flight
#&gt; 4       staff   company          ease
#&gt; 5      office    market         wuhan
#&gt; 6     student   support          ship
#&gt; 7        stay   federal     passenger
#&gt; 8        hand     price        cruise
#&gt; 9      centre      busy       patient
#&gt; 10    medical  business         world
#&gt; 11     family  economic       chinese
#&gt; 12   announce   economy       medical
#&gt; 13   continue    impact     infection
#&gt; 14      store  announce          turn
#&gt; 15  essential   million           new
#&gt; 16        new    crisis        infect
#&gt; 17    measure      lead       toronto
#&gt; 18    provide     world          mask
#&gt; 19       risk    budget           ill
#&gt; 20      chief      bank      positive
#&gt; 21    patient   trudeau         italy
#&gt; 22    ontario      plan          risk
#&gt; 23     supply       oil      minister
#&gt; 24    protect       pay        deaths
#&gt; 25     monday  industry          told
#&gt; 26 provincial president       ontario
#&gt; 27   resident   billion international
#&gt; 28     online     party       airport
#&gt; 29   employee     trump        family
#&gt; 30       food      fund        global
</code></pre><p>We can also present top words in each topic using visualization. Here, we will visualize the top 50 terms in each topics using word cloud.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">news_word_topic <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rownames_to_column</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">%&gt;%</span>
   <span style="color:#a6e22e">mutate</span>(id <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.numeric</span>(id)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">pivot_longer</span>(<span style="color:#f92672">-</span>id, names_to <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;topic&#34;</span>, values_to <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;term&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(label <span style="color:#f92672">=</span> term, size <span style="color:#f92672">=</span> <span style="color:#a6e22e">rev</span>(id), color <span style="color:#f92672">=</span> topic, alpha <span style="color:#f92672">=</span> <span style="color:#a6e22e">rev</span>(id))) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">geom_text_wordcloud</span>(seed <span style="color:#f92672">=</span> <span style="color:#ae81ff">123</span>) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">facet_wrap</span>(<span style="color:#f92672">~</span>topic, scales <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;free&#34;</span>) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">scale_alpha_continuous</span>(range <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.4</span>, <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">scale_color_manual</span>(values <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>( <span style="color:#e6db74">&#34;dodgerblue4&#34;</span>, <span style="color:#e6db74">&#34;firebrick4&#34;</span>, <span style="color:#e6db74">&#34;darkgreen&#34;</span>)) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">theme_minimal</span>() <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">theme</span>(strip.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_rect</span>(fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;firebrick&#34;</span>),
         strip.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(colour <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;white&#34;</span>))
</code></pre></div><p><!-- raw HTML omitted --></p>
<h4 class="tabset" id="document-topic-probabilities">Document-Topic Probabilities</h4>
<p>We can also acquire the probability of a document belong to certain topics. We will use this metric to check whether our guest about the interpretation of each topic is make sense and if each topic is different enough subjectively.</p>
<h5 id="social-issues">Social Issues</h5>
<p>The following table shows the top 10 news title that has the highest probability to the topic of social issues of coronavirus.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">news_doc_topic <span style="color:#f92672">&lt;-</span> lda_news<span style="color:#f92672">$</span>theta <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">as.data.frame</span>() <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rownames_to_column</span>(<span style="color:#e6db74">&#34;id&#34;</span>) 

news_doc_topic <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">arrange</span>(<span style="color:#a6e22e">desc</span>(t_1)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">left_join</span>(covid_clean <span style="color:#f92672">%&gt;%</span> 
                <span style="color:#a6e22e">mutate</span>(V1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.character</span>(V1)) <span style="color:#f92672">%&gt;%</span> 
                <span style="color:#a6e22e">select</span>(V1, title), 
             by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;id&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;V1&#34;</span>)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">column_to_rownames</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">select</span>(title, <span style="color:#a6e22e">everything</span>()) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">head</span>(<span style="color:#ae81ff">10</span>)
</code></pre></div><pre><code>#&gt;                                                                                             title
#&gt; 4126                           No school for Manitoba K-12 students for 3 weeks starting March 23
#&gt; 234  Online screening tool for coronavirus up and running in Manitoba, chief nursing officer says
#&gt; 2693         'Really upsetting': YK1 school board votes to close for remainder of the school year
#&gt; 2698                On-reserve COVID-19 testing set up in Algonquin First Nation after complaints
#&gt; 2716                      Universities in Waterloo, Guelph suspend classes amid COVID-19 concerns
#&gt; 3060               COVID-19 concerns prompt West Vancouver school to close early for spring break
#&gt; 1768             School is out! Here's some advice for kids — from kids — on how to pass the time
#&gt; 3374                                    UPEI ending in-person classes for semester after March 20
#&gt; 3004                  All Edmonton recreation centres to close indefinitely amid COVID-19 worries
#&gt; 2744          4 COVID-19 cases confirmed in Manitoba, chief provincial public health officer says
#&gt;            t_1          t_2          t_3
#&gt; 4126 0.9995219 0.0002390629 0.0002390629
#&gt; 234  0.9993318 0.0003341129 0.0003341129
#&gt; 2693 0.9992518 0.0003741115 0.0003741115
#&gt; 2698 0.9992041 0.0003979308 0.0003979308
#&gt; 2716 0.9991978 0.0004011231 0.0004011231
#&gt; 3060 0.9991978 0.0004011231 0.0004011231
#&gt; 1768 0.9991913 0.0004043672 0.0004043672
#&gt; 3374 0.9991847 0.0004076641 0.0004076641
#&gt; 3004 0.9991536 0.0004231909 0.0004231909
#&gt; 2744 0.9991201 0.0004399472 0.0004399472
</code></pre><h5 id="politics-and-economy">Politics and Economy</h5>
<p>The following table shows the top 10 news title that has the highest probability to belong the topic of politics and economy.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">news_doc_topic <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">arrange</span>(<span style="color:#a6e22e">desc</span>(t_2)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">left_join</span>(covid_clean <span style="color:#f92672">%&gt;%</span> 
                <span style="color:#a6e22e">mutate</span>(V1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.character</span>(V1)) <span style="color:#f92672">%&gt;%</span> 
                <span style="color:#a6e22e">select</span>(V1, title), 
             by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;id&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;V1&#34;</span>)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">column_to_rownames</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">select</span>(title, <span style="color:#a6e22e">everything</span>()) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">head</span>(<span style="color:#ae81ff">10</span>)
</code></pre></div><pre><code>#&gt;                                                                                                   title
#&gt; 4479       Alberta premier says layoffs loom as oilpatch warns of 'catastrophic' impact from low prices
#&gt; 301                          TSX loses another 8% as Canadian oil price falls to lowest level on record
#&gt; 3375                                       'Batten down the hatches': Oilpatch braces as prices plummet
#&gt; 531                                 Oil plunge, coronavirus fears prompt panic selling on stock markets
#&gt; 2406                            'Agonizing': The prospect of a historic oil glut weighs on crude prices
#&gt; 183                                         Loonie dips below 70 cents US as coronavirus impact lingers
#&gt; 3566 'They squandered the good times': Poilievre says Canada lacks 'cushion' to weather economic crises
#&gt; 4435           NDP says Premier Scott Moe is 'playing political games' on possibility of early election
#&gt; 3443                     Singh calls on Liberals to start processing applications for financial aid now
#&gt; 4285                         Gas prices set to fall 7 cents a litre across Canada on Wednesday: analyst
#&gt;               t_1       t_2          t_3
#&gt; 4479 0.0002479544 0.9995041 0.0002479544
#&gt; 301  0.0003297066 0.9993406 0.0003297066
#&gt; 3375 0.0003307972 0.9993384 0.0003307972
#&gt; 531  0.0003352330 0.9993295 0.0003352330
#&gt; 2406 0.0003432887 0.9993134 0.0003432887
#&gt; 183  0.0003672420 0.9992655 0.0003672420
#&gt; 3566 0.0004060089 0.9991880 0.0004060089
#&gt; 4435 0.0004076641 0.9991847 0.0004076641
#&gt; 3443 0.0004161465 0.9991677 0.0004161465
#&gt; 4285 0.0004967710 0.9990065 0.0004967710
</code></pre><h5 id="virus-transmission">Virus Transmission</h5>
<p>The following table shows the top 10 news title that has the highest probability to belong the topic of virus transmission.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">news_doc_topic <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">arrange</span>(<span style="color:#a6e22e">desc</span>(t_3)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">left_join</span>(covid_clean <span style="color:#f92672">%&gt;%</span> 
                <span style="color:#a6e22e">mutate</span>(V1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.character</span>(V1)) <span style="color:#f92672">%&gt;%</span> 
                <span style="color:#a6e22e">select</span>(V1, title), 
             by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;id&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;V1&#34;</span>)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">column_to_rownames</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">select</span>(title, <span style="color:#a6e22e">everything</span>()) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">head</span>(<span style="color:#ae81ff">10</span>)
</code></pre></div><pre><code>#&gt;                                                                                                title
#&gt; 3997                                    Death toll from new coronavirus outbreak in China reaches 17
#&gt; 996                                               Timeline: How the new coronavirus arose and spread
#&gt; 1058               Canadian doctor, WHO team heading to China, where coronavirus death toll tops 900
#&gt; 1092                                   Canada ready to help China contain coronavirus if it asks: PM
#&gt; 1429                                       Patient in Japan infected with new coronavirus from China
#&gt; 1407           France confirms 3 cases as coronavirus outbreak spreads to Europe, U.S. and elsewhere
#&gt; 1076                                Quebec couple, both 75, diagnosed with coronavirus aboard cruise
#&gt; 4571                                        South Korea reports 1st possible case of viral pneumonia
#&gt; 1223 1st person with coronavirus disease in B.C. has fully recovered, provincial health officer says
#&gt; 658                          Ontario's 7th case of coronavirus reported in man who travelled to Iran
#&gt;               t_1          t_2       t_3
#&gt; 3997 0.0002255809 0.0002255809 0.9995488
#&gt; 996  0.0003083565 0.0003083565 0.9993833
#&gt; 1058 0.0004144219 0.0004144219 0.9991712
#&gt; 1092 0.0004144219 0.0004144219 0.9991712
#&gt; 1429 0.0004231909 0.0004231909 0.9991536
#&gt; 1407 0.0004361099 0.0004361099 0.9991278
#&gt; 1076 0.0004418913 0.0004418913 0.9991162
#&gt; 4571 0.0004478280 0.0004478280 0.9991043
#&gt; 1223 0.0004710316 0.0004710316 0.9990579
#&gt; 658  0.0006049607 0.0006049607 0.9987901
</code></pre><h4 id="topic-proportion-over-time">Topic Proportion over Time</h4>
<p>We will illustrate a distant view on the topics in the data over time. Let&rsquo;s see the range of date when each article is published.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">range</span>(covid_clean<span style="color:#f92672">$</span>publish_date)
</code></pre></div><pre><code>#&gt; [1] &quot;2019-12-22 18:36:00&quot; &quot;2020-03-27 08:30:00&quot;
</code></pre><p>The first article start at the end of December 2019 and the latest article is on March 2020. We will group the data into weekly interval and see the proportion of each topic across the weeks.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">news_doc_topic <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">left_join</span>(covid_clean <span style="color:#f92672">%&gt;%</span> 
                <span style="color:#a6e22e">mutate</span>(V1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.character</span>(V1)) <span style="color:#f92672">%&gt;%</span> 
                <span style="color:#a6e22e">select</span>(V1, title, publish_date), 
             by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;id&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;V1&#34;</span>)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">select</span>(<span style="color:#f92672">-</span>id) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">select</span>(title, <span style="color:#a6e22e">everything</span>()) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">pivot_longer</span>(<span style="color:#a6e22e">c</span>(t_1, t_2, t_3), names_to <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;topic&#34;</span>, values_to <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;theta&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate</span>(topic <span style="color:#f92672">=</span> <span style="color:#a6e22e">case_when</span>( topic <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;t_1&#34;</span> <span style="color:#f92672">~</span> <span style="color:#e6db74">&#34;Social Issues&#34;</span>,
                             topic <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;t_2&#34;</span> <span style="color:#f92672">~</span> <span style="color:#e6db74">&#34;Virus Transmission&#34;</span>,
                             <span style="color:#66d9ef">TRUE</span> <span style="color:#f92672">~</span> <span style="color:#e6db74">&#34;Politics and Economy&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">factor</span>(levels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Virus Transmission&#34;</span>, <span style="color:#e6db74">&#34;Social Issues&#34;</span>, <span style="color:#e6db74">&#34;Politics and Economy&#34;</span>)),
          publish_date <span style="color:#f92672">=</span> <span style="color:#a6e22e">ymd_hms</span>(publish_date),
          time <span style="color:#f92672">=</span> <span style="color:#a6e22e">floor_date</span>(publish_date, unit <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;week&#34;</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">as.Date</span>()
          ) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">group_by</span>(time, topic) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">summarise</span>(theta <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(theta)) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(time, theta, fill <span style="color:#f92672">=</span> topic, color <span style="color:#f92672">=</span> topic)) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">geom_line</span>() <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">geom_point</span>(show.legend <span style="color:#f92672">=</span> F) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">theme_minimal</span>() <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">theme</span>(legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;top&#34;</span>) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">scale_x_date</span>(date_breaks <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1 weeks&#34;</span>, 
                labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">date_format</span>(format <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;%d\n%b&#34;</span>)) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">scale_y_continuous</span>() <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">scale_fill_manual</span>(values <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;firebrick&#34;</span>, <span style="color:#e6db74">&#34;orange&#34;</span>, <span style="color:#e6db74">&#34;dodgerblue3&#34;</span>)) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">labs</span>(x <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>, y <span style="color:#f92672">=</span> <span style="color:#a6e22e">expression</span>(theta), color <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>, 
        title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Topic Proportions Over Time on Weekly Interval&#34;</span>)
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>As we can see, for COVID-19 case (late 2019-2020), as the time goes, more articles are reporting more about the social issues of the coronavirus. There is a one week time gap between in the late December to early January where no news are collected. News regarding the source of the virus or new cases is less reported on March since almost all country have been contracted by the virus and thus people and the government are more concerned about their survival and well-being.</p>
<p>However, LDA can&rsquo;t accurately track the change inside the topic over time since LDA assume that the order of the document does not matter. This assumption may be unrealistic when analyzing long-running collections that span years or centuries, since a topic may change from time to time. For example, the topic Virus Transmission may containt mostly about the transmission and new cases in early 2020 and more about the virus source and characteristics in the later period. These kind of change inside the topic is not detected by LDA. A more advanced and improved version LDA that can accomodate this is the Dynamic Topic Model<sup id="fnref:9"><a href="#fn:9" class="footnote-ref" role="doc-noteref">9</a></sup>, a model that respects the ordering of the documents and gives a richer posterior topical structure than LDA.</p>
<h3 id="evaluating-lda">Evaluating LDA</h3>
<p>Although LDA is an unsupervised learning, we can still measure some of its performance. Traditionally, and still for many practical applications, to evaluate if “the correct thing” has been learned about the corpus, an implicit knowledge and “eyeballing” approaches are used. Ideally, we’d like to capture this information in a single metric that can be maximized, and compared.</p>
<h4 id="eye-balling-test">Eye-Balling Test</h4>
<p>The evaluation of a topic model can be done by looking at the content directly, such as the top-n words like what we previously did. We can decide whether the collection of words inside each topic make sense or contain certain similarity.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">news_word_topic
</code></pre></div><pre><code>#&gt;       Topic 1   Topic 2       Topic 3
#&gt; 1      school    dollar          port
#&gt; 2      social      cent    quarantine
#&gt; 3    distance  minister        flight
#&gt; 4       staff   company          ease
#&gt; 5      office    market         wuhan
#&gt; 6     student   support          ship
#&gt; 7        stay   federal     passenger
#&gt; 8        hand     price        cruise
#&gt; 9      centre      busy       patient
#&gt; 10    medical  business         world
#&gt; 11     family  economic       chinese
#&gt; 12   announce   economy       medical
#&gt; 13   continue    impact     infection
#&gt; 14      store  announce          turn
#&gt; 15  essential   million           new
#&gt; 16        new    crisis        infect
#&gt; 17    measure      lead       toronto
#&gt; 18    provide     world          mask
#&gt; 19       risk    budget           ill
#&gt; 20      chief      bank      positive
#&gt; 21    patient   trudeau         italy
#&gt; 22    ontario      plan          risk
#&gt; 23     supply       oil      minister
#&gt; 24    protect       pay        deaths
#&gt; 25     monday  industry          told
#&gt; 26 provincial president       ontario
#&gt; 27   resident   billion international
#&gt; 28     online     party       airport
#&gt; 29   employee     trump        family
#&gt; 30       food      fund        global
</code></pre><h4 id="intrinsic-measures">Intrinsic Measures</h4>
<p>One of the most popular metric to evaluate a topic model is by looking at the topic coherence. Topic Coherence measures the degree of semantic similarity between the top words in a single topic. The <code>textmineR</code> implements a new topic coherence measure based on probability theory. Probabilistic coherence measures how associated words are in a topic, controlling for statistical independence.</p>
<blockquote>
<p>&ldquo;Suppose you have a corpus of articles from the sports section of a newspaper. A topic with the words {sport, sports, ball, fan, athlete} would look great if you look at correlation, without correcting for independence. But we actually know that it’s a terrible topic because the words are so frequent in this corpus as to be meaningless. In other words, they are highly correlated with each other but they are statistically-independent of each other.&rdquo;</p>
<!-- raw HTML omitted -->
</blockquote>
<p>The intuition of the probabilistic coherence is that it measure how probable a pair of words will come from the same documents than from a random document in the corpus. For example, if we the top 3 words of a topic is <code>apple</code>, <code>banana</code>, and <code>cheese</code>, we can calculate the topic coherence by averaging the following numbers:</p>
<ol>
<li>
<p><code>\(P(apple|banana) - P(banana)\)</code></p>
</li>
<li>
<p><code>\(P(apple|cheese) - P(cheese)\)</code></p>
</li>
<li>
<p><code>\(P(banana|cheese) - P(cheese)\)</code></p>
</li>
</ol>
<p>Description:</p>
<ul>
<li><code>\(P(apple|banana)\)</code> : The probability that words apple and banana appear together in the same documents</li>
<li><code>\(P(banana)\)</code> : The probability that the word banana appear in the corpus as a whole</li>
</ul>
<p>You can get the coherence for each topic by calling the <code>coherence</code> object from the LDA models. By default, the topic coherence only look for the top 5 words of each topic.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">lda_news<span style="color:#f92672">$</span>coherence
</code></pre></div><pre><code>#&gt;       t_1       t_2       t_3 
#&gt; 0.1082933 0.1103960 0.1437167
</code></pre><p>We will try to find the optimal number of topics by finding the average probabilistic coherence for several number of topics, ranging from k = 10 to k = 100 with interval of 10. To speed up the computation, we will only use 200 sampling iterations with burnin iteration of 180 for the sake of illustration since higher number of iterations can run for hours or even days.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">dtm_lda <span style="color:#f92672">&lt;-</span> Matrix<span style="color:#f92672">::</span><span style="color:#a6e22e">Matrix</span>(<span style="color:#a6e22e">as.matrix</span>(dtm_news), sparse <span style="color:#f92672">=</span> T)
k_list <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">100</span>, by <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>)

model_list <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">TmParallelApply</span>(X <span style="color:#f92672">=</span> k_list, FUN <span style="color:#f92672">=</span> <span style="color:#a6e22e">function</span>(k){

  m <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">FitLdaModel</span>(dtm <span style="color:#f92672">=</span> dtm_lda, 
                   k <span style="color:#f92672">=</span> k, 
                   iterations <span style="color:#f92672">=</span> <span style="color:#ae81ff">500</span>, 
                   burnin <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>,
                   calc_coherence <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
  
  m <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">mean</span>(m<span style="color:#f92672">$</span>coherence)
  
  <span style="color:#a6e22e">return</span>(m)
}, 
cpus <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
)
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">k_list <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">100</span>, by <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>)

model_list <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read_rds</span>(<span style="color:#e6db74">&#34;data_input/coherence result.Rds&#34;</span>)

iter_k <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(
   k <span style="color:#f92672">=</span> k_list,
   coherence <span style="color:#f92672">=</span> model_list <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">unlist</span>()
)

iter_k <span style="color:#f92672">%&gt;%</span>
   <span style="color:#a6e22e">mutate</span>(max_k <span style="color:#f92672">=</span> <span style="color:#a6e22e">which</span>(coherence <span style="color:#f92672">==</span> <span style="color:#a6e22e">max</span>(coherence)) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">aes</span>(k, coherence)) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">geom_vline</span>(<span style="color:#a6e22e">aes</span>(xintercept <span style="color:#f92672">=</span> max_k), alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, lty <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dashed&#34;</span>) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">geom_line</span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;skyblue4&#34;</span>) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">geom_point</span>() <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">scale_x_continuous</span>(breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">20</span>)) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">labs</span>(x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Number of Topics&#34;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Coherence&#34;</span>, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Coherence Score over Number of Topics&#34;</span>) <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">theme_minimal</span>() <span style="color:#f92672">+</span>
   <span style="color:#a6e22e">theme</span>(panel.grid.minor <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>())
</code></pre></div><p><!-- raw HTML omitted --></p>
<p>The optimal number of topics can be chosen by picking the number of topics that give the highest average coherence.</p>
<p>There are also other methods to evaluate the topic model. It will be too much to discuss them on this article. You can visit Julia Silge blogpost<sup id="fnref:10"><a href="#fn:10" class="footnote-ref" role="doc-noteref">10</a></sup> to see some of the evaluation metrics.</p>
<h4 id="extrinsic-measures">Extrinsic Measures</h4>
<p>Model performance toward a specific task, such as text classification. If the topics is regarded as a feature for classification model, we can use accuracy or any other classification metrics to check if the topic model is good enough to do the job.</p>
<h2 id="document-classification">Document Classification</h2>
<p>LDA can also be treated as a model for dimensionality reduction. Each document can be reduce into its associated gamma values. Dimensionality reduction is crucial in text mining since using each word as a feature will result in large dataset and longer computation. In this section, we will compare the performance of text classification using different treatment of dimensionality reduction.</p>
<h3 id="import-data-1">Import Data</h3>
<p>We will import data about workplace review. The data consists of 60,672 observations with the review text and the sentiment.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df <span style="color:#f92672">&lt;-</span> data.table<span style="color:#f92672">::</span><span style="color:#a6e22e">fread</span>(<span style="color:#e6db74">&#34;data_input/review.csv&#34;</span>)
<span style="color:#a6e22e">glimpse</span>(df)
</code></pre></div><pre><code>#&gt; Rows: 60,672
#&gt; Columns: 2
#&gt; $ Sentiment &lt;chr&gt; &quot;positives&quot;, &quot;negatives&quot;, &quot;positives&quot;, &quot;negatives&quot;, &quot;positi…
#&gt; $ Review    &lt;chr&gt; &quot;People are smart and friendly&quot;, &quot;Bureaucracy is slowing th…
</code></pre><h3 id="text-cleansing-1">Text Cleansing</h3>
<p>We will do the usual data cleansing:</p>
<ul>
<li>Lowecase all text</li>
<li>Replace all html symbol</li>
<li>Replace word elongation</li>
<li>Remove all puncuations and numbers</li>
<li>Remove extra white space</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df_clean <span style="color:#f92672">&lt;-</span> df <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate</span>(text_clean <span style="color:#f92672">=</span> Review <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">tolower</span>() <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">replace_html</span>() <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">replace_word_elongation</span>() <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">str_replace_all</span>(<span style="color:#e6db74">&#34;-&#34;</span>, <span style="color:#e6db74">&#34; &#34;</span>) <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">str_remove_all</span>(<span style="color:#e6db74">&#34;[[:punct:]]&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">str_remove_all</span>(<span style="color:#e6db74">&#34;[[0-9]]&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">str_squish</span>() <span style="color:#f92672">%&gt;%</span> 
             <span style="color:#a6e22e">str_trim</span>())

df_clean <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">head</span>()
</code></pre></div><pre><code>#&gt;    Sentiment
#&gt; 1: positives
#&gt; 2: negatives
#&gt; 3: positives
#&gt; 4: negatives
#&gt; 5: positives
#&gt; 6: negatives
#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Review
#&gt; 1:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        People are smart and friendly
#&gt; 2:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Bureaucracy is slowing things down
#&gt; 3:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           1) Food, food, food. 15+ cafes on main campus (MTV) alone. Mini-kitchens, snacks, drinks, free breakfast/lunch/dinner, all day, errr'day.  2) Benefits/perks. Free 24:7 gym access (on MTV campus). Free (self service) laundry (washer/dryer) available. Bowling alley. Volley ball pit. Custom-built and exclusive employee use only outdoor sport park (MTV). Free health/fitness assessments. Dog-friendly. Etc. etc. etc.  3) Compensation. In ~2010 or 2011, Google updated its compensation packages so that they were more competitive.  4) For the size of the organization (30K+), it has remained relatively innovative, nimble, and fast-paced and open with communication but, that is definitely changing (for the worse).  5) With so many departments, focus areas, and products, *in theory*, you should have plenty of opportunity to grow your career (horizontally or vertically). In practice, not true.  6) You get to work with some of the brightest, most innovative and hard-working/diligent minds in the industry. There's a &quot;&quot;con&quot;&quot; to that, too (see below).
#&gt; 4:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        1) Work/life balance. What balance? All those perks and benefits are an illusion. They keep you at work and they help you to be more productive. I've never met anybody at Google who actually time off on weekends or on vacations. You may not hear management say, &quot;&quot;You have to work on weekends/vacations&quot;&quot; but, they set the culture by doing so - and it inevitably trickles down. I don't know if Google inadvertently hires the work-a-holics or if they create work-a-holics in us. Regardless, I have seen way too many of the following: marriages fall apart, colleagues choosing work and projects over family, colleagues getting physically sick and ill because of stress, colleagues crying while at work because of the stress, colleagues shooting out emails at midnight, 1am, 2am, 3am. It is absolutely ridiculous and something needs to change.  2) Poor management. I think the issue is that, a majority of people love Google because they get to work on interesting technical problems - and these are the people that see little value in learning how to develop emotional intelligence. Perhaps they enjoy technical problems because people are too &quot;&quot;difficult.&quot;&quot; People are promoted into management positions - not because they actually know how to lead/manage, but because they happen to be smart or because there is no other path to grow into. So there is a layer of intelligent individuals who are horrible managers and leaders. Yet, there is no value system to actually do anything about that because &quot;&quot;emotional intelligence&quot;&quot; or &quot;&quot;adaptive leadership&quot;&quot; are not taken seriously.  3) Jerks. Sure, there are a lot of brilliant people - but, sadly, there are also a lot of jerks (and, many times, they are one and the same). Years ago, that wasn't the case. I don't know if the pool of candidates is getting smaller, or maybe all the folks with great personalities cashed out and left, or maybe people are getting burned out and it's wearing on their personality and patience. I've heard stories of managers straight-up cussing out their employees and intimidating/scaring their employees into compliance.  4) It's a giant company now and, inevitably, it has become slower moving and is now layered with process and bureaucracy. So many political battles, empire building, territory grabbing. Google says, &quot;&quot;Don't be evil.&quot;&quot; But, that practice doesn't seem to be put into place when it comes to internal practices. :(
#&gt; 5: * If you're a software engineer, you're among the kings of the hill at Google. It's an engineer-driven company without a doubt (that *is* changing, but it's still very engineer-focused). * The perks are amazing. Yes, free breakfast, lunch, an dinner every weekday. Aaaaaamazing holiday parties (at Waldorf Astoria, NY Public Library, MoMA, etc.), overnight ski trips to Vermont, overnight nature trips to the Poconos in the summer, summer picnics at Chelsea piers, and on and on and on. I don't see this going away unless the company starts hurting financially. * Speaking of which, the company is doing quite well, which reflects in bonuses and equity grants. * There a huge diversity of work ranging from defending independent journalism worldwide (Google Project Shield) to crisis response during disasters (see Maps during Hurricane Sandy or Tsunamis), to the best machine learning experts and projects in the world, to more mundane revenue-driving projects in advertising, there's really something for everybody. * It's easy to move around within the company as long as you're in good standing (the vast majority of engineers are). * The company is amazingly open: every week Larry Page and Sergey Brin host what's called TGIF where food, beer, wine, etc. is served, a new project is presented, and afterward there's an open forum to ask the executives anything you want. It's truly fair game to ask anything, no matter how controversial, and frequently the executives will be responsive. * No, nobody cares if you use an iPhone, Facebook, shop with Amazon, stream using Spotify, or refuse to use Google+. The company is amazingly open and flexible.  Neither pro nor con, but general information on work-life balance, promotions, and advancement. * Work life balance can be what you want it to be on most teams. (Some teams are in more competitive sectors and require more crazy hours all the time - but very few of them). If you do what's expected, you'll be fine at least for a handful of years. Working a roughly 40 hour work week is possible, and many people do it. There are also people who are hyper-motived and work like crazy just because they love it, or because they're competitive, or they want to get a promotion. If you work 40 hour weeks without putting in anything extra, you'll fall behind them as they advance and you stand still - and maybe that doesn't matter, so it works out for everybody. But at least know where you would realistically stand. * If you excel and work your butt off, you'll be compensated and promoted. If you let yourself be a code monkey, and just sit coding with your head down all day, you'll be fine but won't advance. A big complaint from some Googlers is about not being able to advance &quot;&quot;even at Google&quot;&quot; with pure coding. Sure, if you're the uber genius who created MapReduce and Bigtable, you're going to advance like a rocket without having to do anything but coding, but if you're like most engineers at Google -- smarter than average, but just average compared to other Googlers -- you're just a good coder and not revolutionary. Code monkeys are important to actually get stuff done, and to be sure you absolutely need to be a good coder as a software engineer (it's the minimum requirement), but code monkeys won't advance because they're not leaders and they're easy to replace. To get promoted you need to lead and do more than just code. There are plenty of ways to lead other than being an official tech lead, so this isn't actually _that_ hard, so the real point is just that you can't just sit there coding what other people tell you to code all day and expect to advance.
#&gt; 6:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             * It *is* becoming larger, and with it comes growing pains: bureaucracy, slow to respond to market threats, bloated teams, cross-divisional tension (though nothing remotely approaching that of Microsoft's internal tension). * The quality of the engineers is possibly dropping, but possibly not. It's hard to get real metrics, because as the absolute number of people grows, naturally the number of bad apples grows, as a percentage it's supposedly the same as it ever was, but with larger numbers of poorer quality engineers it just _feels_ like things might be changing for the worse. * Also with growth means more internal-confidential data leaks (again, because of the raw numbers of people) -- product announcements being ruined, etc. That means the company has to be tighter-lipped internally to avoid leaks, which makes things less open. It's still an amazingly open place, but less so than it was even a couple years ago. The good thing is they recognize it and actively look to improve things because they know how important it is to keep the good culture.
#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   text_clean
#&gt; 1:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             people are smart and friendly
#&gt; 2:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        bureaucracy is slowing things down
#&gt; 3:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   food food food + cafes on main campus mtv alone mini kitchens snacks drinks free breakfastlunchdinner all day erday benefitsperks free gym access on mtv campus free self service laundry washerdryer available bowling alley volley ball pit custom built and exclusive employee use only outdoor sport park mtv free healthfitness assessments dog friendly etc etc etc compensation in ~ or google updated its compensation packages so that they were more competitive for the size of the organization k+ it has remained relatively innovative nimble and fast paced and open with communication but that is definitely changing for the worse with so many departments focus areas and products in theory you should have plenty of opportunity to grow your career horizontally or vertically in practice not true you get to work with some of the brightest most innovative and hard workingdiligent minds in the industry theres a con to that too see below
#&gt; 4:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 worklife balance what balance all those perks and benefits are an illusion they keep you at work and they help you to be more productive ive never met anybody at google who actually time off on weekends or on vacations you may not hear management say you have to work on weekendsvacations but they set the culture by doing so and it inevitably trickles down i dont know if google inadvertently hires the work a holics or if they create work a holics in us regardless i have seen way too many of the following marriages fall apart colleagues choosing work and projects over family colleagues getting physically sick and ill because of stress colleagues crying while at work because of the stress colleagues shooting out emails at midnight am am am it is absolutely ridiculous and something needs to change poor management i think the issue is that a majority of people love google because they get to work on interesting technical problems and these are the people that see little value in learning how to develop emotional intelligence perhaps they enjoy technical problems because people are too difficult people are promoted into management positions not because they actually know how to leadmanage but because they happen to be smart or because there is no other path to grow into so there is a layer of intelligent individuals who are horrible managers and leaders yet there is no value system to actually do anything about that because emotional intelligence or adaptive leadership are not taken seriously jerks sure there are a lot of brilliant people but sadly there are also a lot of jerks and many times they are one and the same years ago that wasnt the case i dont know if the pool of candidates is getting smaller or maybe all the folks with great personalities cashed out and left or maybe people are getting burned out and its wearing on their personality and patience ive heard stories of managers straight up cussing out their employees and intimidatingscaring their employees into compliance its a giant company now and inevitably it has become slower moving and is now layered with process and bureaucracy so many political battles empire building territory grabbing google says dont be evil but that practice doesnt seem to be put into place when it comes to internal practices
#&gt; 5: if youre a software engineer youre among the kings of the hill at google its an engineer driven company without a doubt that is changing but its still very engineer focused the perks are amazing yes free breakfast lunch an dinner every weekday amazing holiday parties at waldorf astoria ny public library moma etc overnight ski trips to vermont overnight nature trips to the poconos in the summer summer picnics at chelsea piers and on and on and on i dont see this going away unless the company starts hurting financially speaking of which the company is doing quite well which reflects in bonuses and equity grants there a huge diversity of work ranging from defending independent journalism worldwide google project shield to crisis response during disasters see maps during hurricane sandy or tsunamis to the best machine learning experts and projects in the world to more mundane revenue driving projects in advertising theres really something for everybody its easy to move around within the company as long as youre in good standing the vast majority of engineers are the company is amazingly open every week larry page and sergey brin host whats called tgif where food beer wine etc is served a new project is presented and afterward theres an open forum to ask the executives anything you want its truly fair game to ask anything no matter how controversial and frequently the executives will be responsive no nobody cares if you use an iphone facebook shop with amazon stream using spotify or refuse to use google+ the company is amazingly open and flexible neither pro nor con but general information on work life balance promotions and advancement work life balance can be what you want it to be on most teams some teams are in more competitive sectors and require more crazy hours all the time but very few of them if you do whats expected youll be fine at least for a handful of years working a roughly hour work week is possible and many people do it there are also people who are hyper motived and work like crazy just because they love it or because theyre competitive or they want to get a promotion if you work hour weeks without putting in anything extra youll fall behind them as they advance and you stand still and maybe that doesnt matter so it works out for everybody but at least know where you would realistically stand if you excel and work your butt off youll be compensated and promoted if you let yourself be a code monkey and just sit coding with your head down all day youll be fine but wont advance a big complaint from some googlers is about not being able to advance even at google with pure coding sure if youre the uber genius who created mapreduce and bigtable youre going to advance like a rocket without having to do anything but coding but if youre like most engineers at google smarter than average but just average compared to other googlers youre just a good coder and not revolutionary code monkeys are important to actually get stuff done and to be sure you absolutely need to be a good coder as a software engineer its the minimum requirement but code monkeys wont advance because theyre not leaders and theyre easy to replace to get promoted you need to lead and do more than just code there are plenty of ways to lead other than being an official tech lead so this isnt actually that hard so the real point is just that you cant just sit there coding what other people tell you to code all day and expect to advance
#&gt; 6:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            it is becoming larger and with it comes growing pains bureaucracy slow to respond to market threats bloated teams cross divisional tension though nothing remotely approaching that of microsofts internal tension the quality of the engineers is possibly dropping but possibly not its hard to get real metrics because as the absolute number of people grows naturally the number of bad apples grows as a percentage its supposedly the same as it ever was but with larger numbers of poorer quality engineers it just feels like things might be changing for the worse also with growth means more internal confidential data leaks again because of the raw numbers of people product announcements being ruined etc that means the company has to be tighter lipped internally to avoid leaks which makes things less open its still an amazingly open place but less so than it was even a couple years ago the good thing is they recognize it and actively look to improve things because they know how important it is to keep the good culture
</code></pre><p>Next, we inspect the summary of the length of each document. The maximum number of words in a document is 2161 terms.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">document_length <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sapply</span>(<span style="color:#a6e22e">strsplit</span>(df_clean<span style="color:#f92672">$</span>text_clean, <span style="color:#e6db74">&#34; &#34;</span>), length)

document_length <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">summary</span>()
</code></pre></div><pre><code>#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
#&gt;     0.0     7.0    14.0    25.7    27.0  2161.0
</code></pre><p>We will only take documents with more than 50 terms/words.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">df_clean <span style="color:#f92672">&lt;-</span> df_clean <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">slice</span>(<span style="color:#a6e22e">which</span>(document_length <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">50</span>))

<span style="color:#a6e22e">dim</span>(df_clean)
</code></pre></div><pre><code>#&gt; [1] 6271    3
</code></pre><h3 id="cross-validation">Cross-Validation</h3>
<p>We split the data into the training set (80%) and the testing set (20%). We will also check the class proportion of the target variable in the training set.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)
index <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sample</span>(<span style="color:#a6e22e">nrow</span>(df_clean), <span style="color:#a6e22e">nrow</span>(df_clean)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.8</span>)

data_train <span style="color:#f92672">&lt;-</span> df_clean[index, ]
data_test <span style="color:#f92672">&lt;-</span> df_clean[<span style="color:#f92672">-</span>index, ]

<span style="color:#a6e22e">table</span>(df_clean<span style="color:#f92672">$</span>Sentiment) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">prop.table</span>()
</code></pre></div><pre><code>#&gt; 
#&gt; negatives positives 
#&gt; 0.6451922 0.3548078
</code></pre><p>As we can see, there is a class imbalance between the negative and postive sentiment, so we will upsample the minority class first.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(caret)
<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)
data_train <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">upSample</span>(x <span style="color:#f92672">=</span> data_train <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(<span style="color:#f92672">-</span>Sentiment), 
                       y <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.factor</span>(data_train<span style="color:#f92672">$</span>Sentiment), yname <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;sentiment&#34;</span>) 

<span style="color:#a6e22e">glimpse</span>(data_train)
</code></pre></div><pre><code>#&gt; Rows: 6,474
#&gt; Columns: 3
#&gt; $ Review     &lt;chr&gt; &quot;As it has grown big, Google has become miserably stagnant…
#&gt; $ text_clean &lt;chr&gt; &quot;as it has grown big google has become miserably stagnant …
#&gt; $ sentiment  &lt;fct&gt; negatives, negatives, negatives, negatives, negatives, neg…
</code></pre><h3 id="document-term-matrix-1">Document-Term Matrix</h3>
<p>Next, we create the document-term matrix (DTM) for each document. The term will be a combination of unigram (1-gram) and bigram (2-gram) for each documents.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">stem_hunspell <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(term) {
    <span style="color:#75715e"># look up the term in the dictionary</span>
    stems <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">hunspell_stem</span>(term)[[1]]
    
    <span style="color:#a6e22e">if </span>(<span style="color:#a6e22e">length</span>(stems) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) { <span style="color:#75715e"># if there are no stems, use the original term</span>
        stem <span style="color:#f92672">&lt;-</span> term
    } else { <span style="color:#75715e"># if there are multiple stems, use the last one</span>
        stem <span style="color:#f92672">&lt;-</span> stems[<span style="color:#a6e22e">[length</span>(stems)]]
    }
    <span style="color:#a6e22e">return</span>(stem)
}

train_term <span style="color:#f92672">&lt;-</span> data_train <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rownames_to_column</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">unnest_tokens</span>(output <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;word&#34;</span>, input <span style="color:#f92672">=</span> text_clean) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">anti_join</span>(stop_words)  <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate</span>(word <span style="color:#f92672">=</span> <span style="color:#a6e22e">text_tokens</span>(word, stemmer <span style="color:#f92672">=</span> stem_hunspell) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">as.character</span>()) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">drop_na</span>(word) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">count</span>(id, word)

train_bigram <span style="color:#f92672">&lt;-</span> data_train <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rownames_to_column</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">unnest_tokens</span>(output <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;word&#34;</span>, input <span style="color:#f92672">=</span> text_clean, token <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ngrams&#34;</span>, n <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">drop_na</span>(word) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">count</span>(id, word)

test_term <span style="color:#f92672">&lt;-</span> data_test <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rownames_to_column</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">unnest_tokens</span>(output <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;word&#34;</span>, input <span style="color:#f92672">=</span> text_clean) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">anti_join</span>(stop_words)  <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate</span>(word <span style="color:#f92672">=</span> <span style="color:#a6e22e">text_tokens</span>(word, stemmer <span style="color:#f92672">=</span> stem_hunspell) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">as.character</span>()) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">drop_na</span>(word) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">count</span>(id, word) 

test_bigram <span style="color:#f92672">&lt;-</span> data_test <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rownames_to_column</span>(<span style="color:#e6db74">&#34;id&#34;</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">unnest_tokens</span>(output <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;word&#34;</span>, input <span style="color:#f92672">=</span> text_clean, token <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ngrams&#34;</span>, n <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">drop_na</span>(word) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">count</span>(id, word)
</code></pre></div><p>Here is the resulting DTM from the corpus of text data.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">dtm_train_review <span style="color:#f92672">&lt;-</span> train_term <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">bind_rows</span>(train_bigram) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">cast_dtm</span>(document <span style="color:#f92672">=</span> id, term <span style="color:#f92672">=</span> word, value <span style="color:#f92672">=</span> n)

dtm_test <span style="color:#f92672">&lt;-</span> test_term <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">bind_rows</span>(test_bigram) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">cast_dtm</span>(document <span style="color:#f92672">=</span> id, term <span style="color:#f92672">=</span> word, value <span style="color:#f92672">=</span> n)

<span style="color:#a6e22e">inspect</span>(dtm_train_review)
</code></pre></div><pre><code>#&gt; &lt;&lt;DocumentTermMatrix (documents: 6474, terms: 204309)&gt;&gt;
#&gt; Non-/sparse entries: 885025/1321811441
#&gt; Sparsity           : 100%
#&gt; Maximal term length: 48
#&gt; Weighting          : term frequency (tf)
#&gt; Sample             :
#&gt;       Terms
#&gt; Docs   amazon company employee if you in the manage of the people team time
#&gt;   1016      8       8        3      3      2     11      4      6    3    2
#&gt;   1117     20       7        8      5      2      3      3      4    0    7
#&gt;   1611      0       0        0      6      3      2      2      9    0    1
#&gt;   2298     26       7        6      0      8     29      8      6   32    6
#&gt;   2536      6       0        1      3      6      3      5      5    5    4
#&gt;   3347     15       5        0      1      2      3      6      9   12   10
#&gt;   3355      8       0        2      8      3      3      2      0    0   13
#&gt;   4261      2      10        4      4      1      1      1     10    4    5
#&gt;   4510      8       0        2      8      3      3      2      0    0   13
#&gt;   694       0       1        3      0      1      1      4      5    0    4
</code></pre><h3 id="final-preprocessing">Final Preprocessing</h3>
<p>We will continue to reduce the number of terms used by only choose words that appear in at least 5 documents and maximum appear in 80% of all documents. We get the final number of terms about 260,000 terms in 6500 documents.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">word_freq <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">findFreqTerms</span>(dtm_train_review, lowfreq <span style="color:#f92672">=</span>  <span style="color:#ae81ff">5</span>, highfreq <span style="color:#f92672">=</span> <span style="color:#a6e22e">nrow</span>(dtm_train_review)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.8</span>)

dtm_train <span style="color:#f92672">&lt;-</span> dtm_train_review[ , word_freq ]

dtm_train
</code></pre></div><pre><code>#&gt; &lt;&lt;DocumentTermMatrix (documents: 6474, terms: 25908)&gt;&gt;
#&gt; Non-/sparse entries: 621283/167107109
#&gt; Sparsity           : 100%
#&gt; Maximal term length: 30
#&gt; Weighting          : term frequency (tf)
</code></pre><p><strong>LDA</strong></p>
<p>We will build the LDA topic model for the document-term matrix. We will use number of topic (k) = 50, with 5000 iterations and 4000 burn-in. Since the process is relatively long, we also have saved the previously trained topic model in the next chunk.</p>
<p>The topic distribution for each document ($\theta$) will be used as the features for the machine learning model. Using only 50 topics, we expect a 99.8% dimensionality reduction.</p>
<p><code>$$Dimensionality\ reduction = 1 - \frac{50}{25908} = 0.998 = 99.8\%$$</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">dtm_lda <span style="color:#f92672">&lt;-</span> Matrix<span style="color:#f92672">::</span><span style="color:#a6e22e">Matrix</span>(<span style="color:#a6e22e">as.matrix</span>(dtm_train), sparse <span style="color:#f92672">=</span> T)

<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)
lda_review <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">FitLdaModel</span>(dtm <span style="color:#f92672">=</span> dtm_lda, 
                        k <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>, 
                        iterations <span style="color:#f92672">=</span> <span style="color:#ae81ff">5000</span>,
                        burnin <span style="color:#f92672">=</span> <span style="color:#ae81ff">4000</span>
                        )
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">lda_review <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read_rds</span>(<span style="color:#e6db74">&#34;data_input/lda review.Rds&#34;</span>)
</code></pre></div><p>Finally, we prepare the features and the target variable of the training set for model fitting.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">train_y <span style="color:#f92672">&lt;-</span> data_train<span style="color:#f92672">$</span>sentiment[ <span style="color:#a6e22e">rownames</span>(lda_review<span style="color:#f92672">$</span>theta) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">as.numeric</span>() ]

train_x <span style="color:#f92672">&lt;-</span> lda_review<span style="color:#f92672">$</span>theta
</code></pre></div><p><strong>Bernoullie Convertion</strong></p>
<p>For the conventional naive bayes, we will convert the numerical value (the frequency of each term in each document) into a categorical whether the term is presence in the document or not.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">bernoulli_conv <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(x){
        x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.factor</span>(<span style="color:#a6e22e">as.numeric</span>(x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>))
}

train_bayes <span style="color:#f92672">&lt;-</span> Matrix<span style="color:#f92672">::</span><span style="color:#a6e22e">Matrix</span>(<span style="color:#a6e22e">as.matrix</span>(dtm_train), sparse <span style="color:#f92672">=</span> T)

train_bn <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">apply</span>(dtm_train, <span style="color:#ae81ff">2</span>, bernoulli_conv)
test_bn <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">apply</span>(dtm_test, <span style="color:#ae81ff">2</span>, bernoulli_conv)
</code></pre></div><h3 id="model-fitting-and-evaluation">Model Fitting and Evaluation</h3>
<p>We will use Random Forest and Naive Bayes to fit the data from LDA. We will also compare the performance of the model with a baseline model of Naive Bayes without the dimensionality reduction from LDA.</p>
<h4 id="lda-with-random-forest">LDA with Random Forest</h4>
<p>The random forest model will be trained using 500 trees and <code>mtry</code> parameter of 2. The error rate from the Out of Bag (OOB) observation is around 6.3% or similar to 93% of accuracy.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(randomForest)

<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)
rf_lda <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">randomForest</span>(x <span style="color:#f92672">=</span> train_x, 
                       y <span style="color:#f92672">=</span> train_y, 
                       ntree <span style="color:#f92672">=</span> <span style="color:#ae81ff">500</span>, 
                       mtry <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)

rf_lda
</code></pre></div><pre><code>#&gt; 
#&gt; Call:
#&gt;  randomForest(x = train_x, y = train_y, ntree = 500, mtry = 2) 
#&gt;                Type of random forest: classification
#&gt;                      Number of trees: 500
#&gt; No. of variables tried at each split: 2
#&gt; 
#&gt;         OOB estimate of  error rate: 6.27%
#&gt; Confusion matrix:
#&gt;           negatives positives class.error
#&gt; negatives      3135       102  0.03151066
#&gt; positives       304      2933  0.09391412
</code></pre><p>Next, we will prepare the testing dataset. To get the features of probability distribution of each topic for each document, we ran the topic model on the DTM of the testing set using only 100 iterations and burn-in of 80.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">dtm_lda_test <span style="color:#f92672">&lt;-</span> Matrix<span style="color:#f92672">::</span><span style="color:#a6e22e">Matrix</span>(<span style="color:#a6e22e">as.matrix</span>(dtm_test), sparse <span style="color:#f92672">=</span> T)

<span style="color:#75715e"># Get the topic probabilities for each document</span>
<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)
test_x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(lda_review,
                  newdata <span style="color:#f92672">=</span> dtm_lda_test,
                  iterations <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>,
                  burnin <span style="color:#f92672">=</span> <span style="color:#ae81ff">80</span>
                  )
</code></pre></div><p>Next, we predict the testing set using the trained model and see the performance via confusion matrix.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>)
pred_test <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(rf_lda, test_x)
pred_prob <span style="color:#f92672">&lt;-</span>  <span style="color:#a6e22e">predict</span>(rf_lda, test_x, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;prob&#34;</span>)

test_y <span style="color:#f92672">&lt;-</span> data_test<span style="color:#f92672">$</span>Sentiment[ <span style="color:#a6e22e">rownames</span>(dtm_test) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">as.numeric</span>() ]

pred_lda <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(predicted <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(pred_test, levels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;positives&#34;</span>, <span style="color:#e6db74">&#34;negatives&#34;</span>)),
                       actual <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(test_y, levels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;positives&#34;</span>, <span style="color:#e6db74">&#34;negatives&#34;</span>))
                       )

<span style="color:#a6e22e">conf_mat</span>(pred_lda, 
         truth <span style="color:#f92672">=</span> actual, 
         estimate <span style="color:#f92672">=</span> predicted)
</code></pre></div><pre><code>#&gt;            Truth
#&gt; Prediction  positives negatives
#&gt;   positives       271        16
#&gt;   negatives       175       793
</code></pre><p>We then translate the confusion matrix into several evaluation matrix, such as accuracy, recall/sensitivity, precision and F1 measure. We also calculate the area under curve (AUC) to check the model sensitivity toward change of classification threshold.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">result_lda_rf <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(
   accuracy <span style="color:#f92672">=</span> <span style="color:#a6e22e">accuracy_vec</span>( truth <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>actual, 
                            estimate <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>predicted),
   
   recall <span style="color:#f92672">=</span> <span style="color:#a6e22e">sens_vec</span>( truth <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>actual, 
                      estimate <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>predicted),
   
   precision <span style="color:#f92672">=</span> <span style="color:#a6e22e">precision_vec</span>( truth <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>actual, 
                              estimate <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>predicted),
   
   F1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">f_meas_vec</span>(truth <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>actual,
                   estimate <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>predicted),
   
   AUC <span style="color:#f92672">=</span> <span style="color:#a6e22e">roc_auc_vec</span>(truth <span style="color:#f92672">=</span> pred_lda<span style="color:#f92672">$</span>actual, 
                     estimate <span style="color:#f92672">=</span> pred_prob[, <span style="color:#ae81ff">2</span>])
) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate_all</span>(scales<span style="color:#f92672">::</span>percent, accuracy <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.01</span>)

result_lda_rf
</code></pre></div><pre><code>#&gt;   accuracy recall precision     F1    AUC
#&gt; 1   84.78% 60.76%    94.43% 73.94% 94.23%
</code></pre><h4 id="lda-with-naive-bayes">LDA with Naive Bayes</h4>
<p>We will feed the same LDA dataset using the Naive Bayes as comparison.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">naive_lda <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">naiveBayes</span>(x <span style="color:#f92672">=</span> train_x,
                        y <span style="color:#f92672">=</span> train_y)

pred_test <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(naive_lda, test_x)
pred_prob <span style="color:#f92672">&lt;-</span>  <span style="color:#a6e22e">predict</span>(naive_lda, test_x, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;raw&#34;</span>)

pred_lda_bayes <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(predicted <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(pred_test, levels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;positives&#34;</span>, <span style="color:#e6db74">&#34;negatives&#34;</span>)),
                             actual <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(test_y, levels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;positives&#34;</span>, <span style="color:#e6db74">&#34;negatives&#34;</span>))
                             )

<span style="color:#a6e22e">conf_mat</span>(pred_lda_bayes, 
         truth <span style="color:#f92672">=</span> actual, 
         estimate <span style="color:#f92672">=</span> predicted)
</code></pre></div><pre><code>#&gt;            Truth
#&gt; Prediction  positives negatives
#&gt;   positives       316        24
#&gt;   negatives       130       785
</code></pre><p>Here are the evaluation metrics for the Naive Bayes model on LDA dataset.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">result_lda_bayes <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(
   accuracy <span style="color:#f92672">=</span> <span style="color:#a6e22e">accuracy_vec</span>( truth <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>actual, 
                            estimate <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>predicted),
   
   recall <span style="color:#f92672">=</span> <span style="color:#a6e22e">sens_vec</span>( truth <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>actual, 
                      estimate <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>predicted),
   
   precision <span style="color:#f92672">=</span> <span style="color:#a6e22e">precision_vec</span>( truth <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>actual, 
                              estimate <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>predicted),
   
   F1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">f_meas_vec</span>(truth <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>actual,
                   estimate <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>predicted),
   
   AUC <span style="color:#f92672">=</span> <span style="color:#a6e22e">roc_auc_vec</span>(truth <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>actual, 
                     estimate <span style="color:#f92672">=</span> pred_prob[, <span style="color:#ae81ff">2</span>])
) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate_all</span>(scales<span style="color:#f92672">::</span>percent, accuracy <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.01</span>)

result_lda_bayes
</code></pre></div><pre><code>#&gt;   accuracy recall precision     F1    AUC
#&gt; 1   87.73% 70.85%    92.94% 80.41% 94.91%
</code></pre><h4 id="n-gram-with-naive-bayes">N-gram with Naive Bayes</h4>
<p>Lastly, we will train a Naive Bayes model on the original document-term matrix dataset that consist of 25,000+ terms as a baseline or benchmark model. Since the prediction process of naive bayes is taking too much time, we&rsquo;ve prepared the prediction result in <code>Rds</code> format.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">naive_gram <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">naiveBayes</span>(x <span style="color:#f92672">=</span> train_bn, 
                         y <span style="color:#f92672">=</span> train_y)

pred_test_gram <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(naive_gram, test_bn)
pred_prob_gram <span style="color:#f92672">&lt;-</span>  <span style="color:#a6e22e">predict</span>(naive_gram, test_bn, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;raw&#34;</span>)
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">pred_test_gram <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read_rds</span>(<span style="color:#e6db74">&#34;data_input/pred_test_gram.Rds&#34;</span>)
pred_prob_gram <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read_rds</span>(<span style="color:#e6db74">&#34;data_input/pred_prob_gram.Rds&#34;</span>)
pred_gram_bayes <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(predicted <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(pred_test_gram, levels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;positives&#34;</span>, <span style="color:#e6db74">&#34;negatives&#34;</span>)),
                             actual <span style="color:#f92672">=</span> <span style="color:#a6e22e">factor</span>(test_y, levels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;positives&#34;</span>, <span style="color:#e6db74">&#34;negatives&#34;</span>))
                             )

<span style="color:#a6e22e">conf_mat</span>(pred_gram_bayes, 
         truth <span style="color:#f92672">=</span> actual, 
         estimate <span style="color:#f92672">=</span> predicted)
</code></pre></div><pre><code>#&gt;            Truth
#&gt; Prediction  positives negatives
#&gt;   positives       420        88
#&gt;   negatives        26       721
</code></pre><p>Here are the evaluation metrics for the Naive Bayes model on the original dataset.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">result_gram_bayes <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(
   accuracy <span style="color:#f92672">=</span> <span style="color:#a6e22e">accuracy_vec</span>( truth <span style="color:#f92672">=</span> pred_gram_bayes<span style="color:#f92672">$</span>actual, 
                            estimate <span style="color:#f92672">=</span> pred_lda_bayes<span style="color:#f92672">$</span>predicted),
   
   recall <span style="color:#f92672">=</span> <span style="color:#a6e22e">sens_vec</span>( truth <span style="color:#f92672">=</span> pred_gram_bayes<span style="color:#f92672">$</span>actual, 
                      estimate <span style="color:#f92672">=</span> pred_gram_bayes<span style="color:#f92672">$</span>predicted),
   
   precision <span style="color:#f92672">=</span> <span style="color:#a6e22e">precision_vec</span>( truth <span style="color:#f92672">=</span> pred_gram_bayes<span style="color:#f92672">$</span>actual, 
                              estimate <span style="color:#f92672">=</span> pred_gram_bayes<span style="color:#f92672">$</span>predicted),
   
   F1 <span style="color:#f92672">=</span> <span style="color:#a6e22e">f_meas_vec</span>(truth <span style="color:#f92672">=</span> pred_gram_bayes<span style="color:#f92672">$</span>actual,
                   estimate <span style="color:#f92672">=</span> pred_gram_bayes<span style="color:#f92672">$</span>predicted),
   
   AUC <span style="color:#f92672">=</span> <span style="color:#a6e22e">roc_auc_vec</span>(truth <span style="color:#f92672">=</span> pred_gram_bayes<span style="color:#f92672">$</span>actual, 
                     estimate <span style="color:#f92672">=</span> pred_prob_gram[, <span style="color:#ae81ff">2</span>])
) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate_all</span>(scales<span style="color:#f92672">::</span>percent, accuracy <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.01</span>)

result_gram_bayes
</code></pre></div><pre><code>#&gt;   accuracy recall precision     F1    AUC
#&gt; 1   87.73% 94.17%    82.68% 88.05% 97.29%
</code></pre><p>This is the recap of performances of all trained models. Using only 50 features (with 99.8% of dimensionality reduction) extracted from the original DTM using topic model, there are some interesting finding. The recall/sensitivity of the LDA models, both Random Forest and Naive Bayes, is far lower than the Naive Bayes using the original DTM. However, the LDA models has better precision with more than 93% precision on the testing dataset. The trade-off between dimensionality reduction and the model performance for this case is a worthy one, since the dimension is heavily reduced (again, 99.8% reduction) while the model still have an acceptable performance. The dimensionality reduction also result in faster computation. This is especially useful because the prediction process of Naive Bayes with many features take too much time.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">result_lda_rf <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">bind_rows</span>(result_lda_bayes, result_gram_bayes) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">mutate</span>(
      model <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;Random Forest&#34;</span>, <span style="color:#e6db74">&#34;Naive Bayes&#34;</span>, <span style="color:#e6db74">&#34;Naive Bayes&#34;</span>),
      method <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;LDA&#34;</span>, <span style="color:#e6db74">&#34;LDA&#34;</span>, <span style="color:#e6db74">&#34;n-Gram&#34;</span>),
      `n features` <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>( <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">50</span>, <span style="color:#a6e22e">ncol</span>(dtm_train) )
   ) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">select</span>(method, model, <span style="color:#a6e22e">everything</span>()) <span style="color:#f92672">%&gt;%</span> 
   <span style="color:#a6e22e">rename_all</span>(str_to_title) 
</code></pre></div><pre><code>#&gt;   Method         Model Accuracy Recall Precision     F1    Auc N Features
#&gt; 1    LDA Random Forest   84.78% 60.76%    94.43% 73.94% 94.23%         50
#&gt; 2    LDA   Naive Bayes   87.73% 70.85%    92.94% 80.41% 94.91%         50
#&gt; 3 n-Gram   Naive Bayes   87.73% 94.17%    82.68% 88.05% 97.29%      25908
</code></pre><h1 id="reference">Reference</h1>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://tractica.omdia.com/newsroom/press-releases/natural-language-processing-is-a-key-engine-of-ai-market-growth-enabling-44-discrete-use-cases-across-17-industries/">Natural Language Processing Is a Key Engine of AI Market Growth, Enabling 44 Discrete Use Cases Across 17 Industries</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="https://becominghuman.ai/a-simple-introduction-to-natural-language-processing-ea66a1747b32">A Simple Introduction to Natural Language Processing</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p><a href="https://www.nowpublishers.com/article/DownloadSummary/INR-030">Applications of Topic Models</a>&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p><a href="http://www.jmlr.org/papers/volume3/blei03a/blei03a.pdf">Latent Dirichlet Allocation</a>&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5" role="doc-endnote">
<p><a href="https://www.tidytextmining.com/topicmodeling.html">Text Mining with R</a>&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:6" role="doc-endnote">
<p><a href="https://statswithr.github.io/book/the-basics-of-bayesian-statistics.html">Bayesian Statistics</a>&#160;<a href="#fnref:6" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:7" role="doc-endnote">
<p><a href="https://github.com/ropensci/hunspell">Hunspell Stemmer</a>&#160;<a href="#fnref:7" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:8" role="doc-endnote">
<p><a href="http://snowball.tartarus.org/algorithms/porter/stemmer.html">Porter Stemming Algorithm</a>&#160;<a href="#fnref:8" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:9" role="doc-endnote">
<p><a href="http://www.cs.columbia.edu/~blei/papers/BleiLafferty2006a.pdf">Dynamic Topic Models</a>&#160;<a href="#fnref:9" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:10" role="doc-endnote">
<p><a href="https://juliasilge.com/blog/evaluating-stm/">Training, evaluating, and interpreting topic models</a>&#160;<a href="#fnref:10" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

  </div>

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
            
            
                <i class="fa fa-folder"></i>
                
                
                <li><a class="article-category-link" href="https://algotech.netlify.com/categories/r">R</a></li>
                
            
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
            
            
                <i class="fa fa-tags"></i>
                
                
                <li><a class="article-category-link" href="https://algotech.netlify.com/tags/machine-learning">Machine Learning</a></li>
                
                
                <li><a class="article-category-link" href="https://algotech.netlify.com/tags/topic-modelling">Topic Modelling</a></li>
                
            
        
    </ul>
  </li>
</ul>

  </footer>

</article>

    <article class="post">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-algotech-netlify-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </article>


<ul class="actions pagination">
    
        <li><a href="https://algotech.netlify.com/blog/one-way-anova-test-in-r/"
                class="button big previous">One-Way ANOVA Test in R</a></li>
    

    
        <li><a href="https://algotech.netlify.com/blog/topic-modeling-lda/"
                class="button big next">Topic Modelling with Latent Dirichlet Allocation (LDA)</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='https://algotech.netlify.com/'><img src="https://algotech.netlify.com/img/main/logo.png" class="intro-circle" width="30%" alt="Hugo Future Imperfect" /></a>
      
    
    
      <header>
        <h2>Algoritma Technical Blog</h2>
        <p>We're a group of people who teach data science to individuals, trains companies and their employees to better profit from data. We care about the development of data science and a sense of community that connects our alumni and team with one another. To learn more about our approach to data science problems, feel free to hop over to our blog.</p>
      </header>
    
    
      <ul class="icons">
        
        
  <li><a href="//github.com/teamalgoritma" target="_blank" title="GitHub" class="fa fa-github"></a></li>



























  <li><a href="//linkedin.com/company/teamalgoritma" target="_blank" title="LinkedIn Company" class="fa fa-linkedin"></a></li>









  <li><a href="//facebook.com/teamalgoritma" target="_blank" title="Facebook" class="fa fa-facebook"></a></li>





















  <li><a href="//instagram.com/teamalgoritma" target="_blank" title="Instagram" class="fa fa-instagram"></a></li>





  <li><a href="//twitter.com/teamalgoritma" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Upcoming Workshop</h3>
      </header>
      <div class="posts-container">
          <article class="mini-post">
            <header>
              
              <h3>
                <a href="https://algorit.ma/ds-course/hr-industry/?utm_source=algotech"><img src="https://algotech.netlify.com/img/2021/ads/ks-hr.png", alt="Building Tools for the HR Industry",  width="270" height="340">More details</a>
              </h3>
              
              <h3>
                <a href="https://algorit.ma/ds-course/dss-trading/?utm_source=algotech"><img src="https://algotech.netlify.com/img/2021/ads/dss_okt.png", alt="Building Algorithmic Trading Dashboard",  width="270" height="340">More details</a>
              </h3>
              
              <h3>
                <a href="https://algorit.ma/dds-oil-gas/?utm_source=algotech"><img src="https://algotech.netlify.com/img/2021/ads/dds-oilgas.png", alt="DDS: Secrets to a Successful Analytics Project in the Oil and Gas Industry",  width="270" height="340">More details</a>
              </h3>
            </header>
          </article>
      </div>

      
      
    </div>
  </section>

  
  
  

  
  

  
  <section id="footer">
    <p class="copyright">
      
        &copy; 2021
        
          Algoritma Technical Blog
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    <style>
      .footer {
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        height:50px; 
        background-color: black;
        color: white;
        text-align: center;
        padding-top: 15px;
        padding-bottom: 15px;
        padding-left: 50px;
        padding-right: 50px;
}
      }


      </style>

      <div class="footer">
        <p>
          Want to know more about our workshop?
          <a href="https://algorit.ma/?utm_source=algotech&utm_medium=content&utm_campaign=topic-modeling-lda" style="color: rgb(197, 38, 38)"> Visit our main website here</a> <br>
        </p>
          
      </div>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="https://algotech.netlify.com/js/util.js"></script>
      <script src="https://algotech.netlify.com/js/main.js"></script>
      <script src="https://algotech.netlify.com/js/backToTop.js"></script>
    

    
      
        
      
        
          <script src="https://algotech.netlify.com/js/bootstrap.min.js"></script>
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

